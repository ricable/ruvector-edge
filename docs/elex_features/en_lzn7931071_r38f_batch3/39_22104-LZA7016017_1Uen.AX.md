---
complexity_score: 19.0
converted_at: '2025-08-13T06:58:42.366896Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 4
images_saved: 3
original_path: 39_22104-LZA7016017_1Uen.AX.html
pictures_extracted: 4
processing_method: docling_multimodal
quality_score: 9.0
source_file: 39_22104-LZA7016017_1Uen.AX.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 22
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

Xn Configuration

NR

Contents

![Image](../images/39_22104-LZA7016017_1Uen.AX/additional_3_CP.png)

![Image](../images/39_22104-LZA7016017_1Uen.AX/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - Automatic Xn Setup
    - Automatic Update of the Xn Connection
    - Automatic Xn Re-Establishment
    - Removal of the Xn Connection by Locking
    - High Load Handling
    - Standard Load Reporting in NR
- Network Impact
- Parameters
- Performance
- Activate Non-License-Controlled Features
- Engineering Guidelines
    - Reserved MO Name Convention
    - Security Layer for SCTP Configuration
    - Configuring Standard Load Reporting

# 1 Xn Configuration Overview

The Xn Configuration basic function supports setting up, re-establishing, and

releasing the Xn connection between gNodeBs.

| Access Type:            | NR                                                       |
|-------------------------|----------------------------------------------------------|
| Feature Identity:       | Basic function                                           |
| Value Package Name:     | NR Base Package                                          |
| Value Package Identity: | FAJ 801 4002                                             |
| Node Type:              | Baseband Radio Node                                      |
| Licensing:              | Non-license-controlled function. No license is required. |

Summary

The Xn connection is used between gNodeBs for inter-node

communication to support coordinated features and Advanced RAN Coordination. The

establishment of the Xn connection is initiated by the Xn setup procedure.

The Xn setup includes the Ericsson Conveyor

Information.

In the NR SA deployment, the gNodeB uses the 3GPP Xn setup

procedure for inter-node communication.

This basic function introduces the 3GPP NG-RAN node Configuration Update procedure

and standard load reporting.

Additional Information

For more information topics related to this basic function, see the following

documentation:

- 3GPP TS 38.423; NG-RAN; Xn Application Protocol (XnAP)

# 2 Dependencies of Xn Configuration

The basic function is accepted by Ericsson gNodeBs or by

other vendor gNodeBs depending on the operation state of the basic

function.

Features

Table 1   Dependencies of Xn Configuration

![Image](../images/39_22104-LZA7016017_1Uen.AX/additional_3_CP.png)

![Image](../images/39_22104-LZA7016017_1Uen.AX/additional_3_CP.png)

| Feature                                                                                 | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------------------------------------------------------------------------------------|----------------|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NR Mobility (FAJ 121 5041)                                                              | Conflicting    | Partially impaired   | Xn-C connection is not supported between gNodeBs that are                                     manually configured to handle intra- and inter-frequency                                     handovers when the target gNodeB is of another vendor and                                     configured with MOCN with multiple NCGIs associated with the                                     same PCI.                                                                                                                                                                                                                                                     |
| NR Automated Neighbor Relations (FAJ                                     121 5218)      | Conflicting    | Partially impaired   | The NR Automated Neighbor Relations feature can trigger Xn setup                                     by IP address retrieval and the removal of Xn connections.  Setting up a new Xn connection is prevented and existing Xn                 connections are removed for gNodeBs that are included in the gNodeB blocklist.  When an Xn connection is established                                     to a neighbor gNodeB, the neighbor relation is updated based on                                     the information provided by the neighbor gNodeB, and the                                     configured PLMN-specific ID lengths are ignored. |
| Priority-Based Admission                                         Control (FAJ 121 5402) | Related        |                      | If the AdmissionLimit.maxConnectedUe attribute                                     for a cell is set higher than 0, it is taken                                     into account when determining the maximum number of RRC                                     connected UEs.                                                                                                                                                                                                                                                                                                                                                                          |

Hardware

No specific hardware requirements.

Limitations

Standard Load Reporting only supports the reporting of the maximum number of RRC

connections and the available RRC connection capacity.

Standard Load Reporting is not supported in High-Band cells.

Network Requirements

No specific network requirements.

# 3 Feature Operation of Xn Configuration

The Xn Configuration basic function consists of the setup, the re-establishment, and

the release of Xn connection among gNodeBs.

The Xn interface connects gNodeBs and signals configuration

update messages to gNodeBs with Xn connection. The automatic Xn

re-establishment procedure is managed by the Xn Configuration basic function. Automatic

re-establishment occurs at Xn link break or when the Xn connection is removed.

The gNodeBs receive the following messages:

- XN SETUP REQUEST
- XN SETUP RESPONSE
- XN SETUP FAILURE

At the exchange of messages, the target gNodeB configures itself

based on the information from the source gNodeB. The source gNodeB configures itself based on the information from the

target gNodeB.

Any cell data of the NRCellCU MO can be changed on the gNodeBs. In such cases, a gNodeB

configuration update message is sent to all external gNodeBs

with established Xn connection. Then, each external gNodeB

reconfigures resources according to the contents of the received message.

The IP address of the

source gNodeB is configured using the

LocalSctpEndpoint.sctpEndpointRef attribute.

Operational Process

The Xn Configuration basic function includes the following processes:

1. The TermPointToGNodeB MO is created on the source gNodeB.
2. Xn setup is triggered on one side. The Xn setup includes the definition of the external gNodeB.
3. The Xn connection, including external gNodeB configuration, is updated automatically.
4. The Xn connection is re-established automatically.
5. The Xn connection is removed.

Xn setup can be initiated as follows:

- automatically by the ANR function
- automatically during the configuration update from the OSS
- manually by the operator

## 3.1 Automatic Xn Setup

The Xn setup procedure is initiated automatically after the

TermPointToGNodeB MO is created.

To support the automatic establishment of the Xn connection, the following processes are

automatically initiated after an NCGI report is received from the UE:

1. The ExternalGNBCUCPFunction MO is created. Note: The ExternalGNBCUCPFunction MO is created if all the following conditions are met: The value of the GNBCUCPFunction.xnIpAddrViaNgActive attribute is set to true. NCGI measurement is reported to the cell of an unknown gNodeB. Table 2 ExternalGNBCUCPFunction Attribute Setting Attribute Value gNBId gNBId contained in the nRCGI parameter of the lightweight ExternalNRCellCU object pLMNId ExternalNRCellCU.primaryPLMNId isRemoveAllowed true noRelationTimeStamp NOW Note: A lightweight object is an internal parameter, which represents a managed object. The following lightweight objects exist: ExternalNRCellCU ExternalEUtranCell NRCellRelation EUtranCellRelation
2. The TermPointToGNodeB MO is created and unlocked without IP addresses for 5G SA and SCTP.Note: The TermPointToGNodeB MO is created and unlocked if all the following conditions are met: The value of the GNBCUCPFunction.xnIpAddrViaNgActive attribute is set to true. The ExternalNRCellCU.nRTAC or the ExternalBroadcastPLMNInfo.nRTAC is specified. Any PLMNId of the ExternalNRCellCU or the ExternalBroadcastPLMNInfo MOs belongs to the TermpointToAmf.pLMNIdList MO. The gNBId of the TermPointToGNodeB under the ExternalGNBCUCPFunction MOC does not match the gNBId of the ExternalNRCellCU.nRCGI Any PLMNId entry of the ExternalNRCellCU.plmnIdList or the ExternalBroadcastPLMNInfo.pLMNIdList attributes is valid in the dedicated Transport Network (TN) configuration for Xn if the default TN configuration is not used.
3. The remote IP addresses on the TermPointToGNodeB are retrieved and configured.Note: Inconsistency might occur between the values of the TermPointToGNodeB.ipv4Address or TermPointToGNodeB.ipv6Address attributes and the TermPointToGNodeB.usedIpAddress attribute. This does not have any effect on the network. The TermPointToGNodeB.ipv4Address and TermPointToGNodeB.ipv6Address attributes are only updated by the system after a successful IP Retrieval procedure started by the source gNodeB. The TermPointToGNodeB.usedIpAddress attribute is updated every time the Xn connection is established between the target gNodeB and the source gNodeB.
4. The Xn setup procedure is performed successfully. Neighbor cells and cell relations are created or updated based on information from neighbor cells.Note: In MOCN and MORAN configurations, one gNodeB can serve multiple PLMN IDs for different operators. The PLMN ID part of the global gNodeB ID and the PLMN IDs served by the NR cells on the gNodeB can be different. In the ExternalGNBCUCPFunction MO, the PLMN ID part of the RDN and the ExternalGNBCUCPFunction.pLMNId can be different after a successful Xn setup.
5. The source gNodeB sends an XN SETUP REQUEST message with a served cell information block.
6. The target gNodeB configures resources based on the content of the XN SETUP REQUEST message in the following way: The target gNodeB creates the ExternalGNBCUCPFunction MO if it does not exist. The target gNodeB creates the TermPointToGNodeB MO and sets TermpointToGNodeB.administrativeState attribute to UNLOCKED. For each entry in the list of served NR cells, an ExternalNRCellCU MO is autocreated if it does not exist. The attributes are set based on the served NR cell information. An NRFrequency MO is created on the following conditions: No NRFrequency MO is present that matches the first band in the band list. No NRFrequency MO is present that matches the NR-ARFCN value of the served NR cell. When a neighboring cell changes frequency, the existing NRCellRelation is maintained if the new frequency has a corresponding NRFreqRelation attribute configured in the cell. If the relation does not exist, the NRCellRelation is lost, and have to be re-created by ANR if active. To maintain the NRCellRelation in neighboring cells, the following sequence must be performed: Create the NRFrequency MO for the new cell frequency, if it does not already exist. Create the NRFreqRelation MO, with the value of nRFrequencyRef created previously for all the neighboring cells in which NRCellRelation are to be maintained. Change the cell frequency. Once the new cell frequency information is propagated, the neighbors are able to update the NRCellRelation.nRFreqRelationRef toward the NRFreqRelation created before. The ExternalNRCellCU MOs which do not exist in the list of served NR cells are deleted regardless if they are referred by the NRCellRelation or the RibTmRelation MO instances when the following conditions apply: The GNBCUCPFunction.extNrCellRemovalByXnSupported attribute is set to true. The indication of complete served cell list is sent in the XN SETUP REQUEST message by the source gNodeB.

### 3.1.1 X2 TNL Address Discovery Procedure for Secondary Node in EN-DC

Xn interface is created automatically for the Secondary Node in EN-DC after the

AnrFunctionNR.anrAutoCreateXnForEndc attribute is set to

true.

To enable automatic Xn setup for the Secondary Node in EN-DC, the newAnrFunctionNR.anrAutoCreateXnForEndc attribute is introduced. If set to

true, Xn interface is created for all

NRCellRelation objects to an ExternalNRCellCU

MO that has a reference from an ExternalEUtranCell MO.

Figure 1   X2 TNL Address Discovery Procedure

The process has the following steps:

1. X2 connection between gNodeB 2 and Master Node is established.
2. X2 connection between gNodeB 1 and Master Node is established.
3. ANR creates lightweight NRCellRelation object on gNodeB 1. For more information, see NR Automated Neighbor Relations for NR Mobility for EN-DC in NR Automated Neighbor Relations.
4. If the AnrFunctionNR.anrAutoCreateXnForEndc attribute is set to true, corresponding ExternalGNBCUCPFunction and TermPointToGNodeB MOs are created. The gNodeB 1 sends X2AP EAB EN-GNB TNL INFORMATION FETCH REQUEST towards the Master Node to receive TNL IP address of the targeted gNodeB 2.
5. The Master Node sends the X2AP EAB EN-GNB TNL INFORMATION FETCH RESPONSE with the X2 TNL address to the gNodeB 1. Note: The Master Node must know the TNL address of the targeted gNodeB.
6. Xn connection between gNodeB 1 and gNodeB 2 is established with the received TNL address information of gNodeB.

With this procedure, Xn link is set up for each lightweight or manually configured

NRCellRelation object.

### 3.1.2 Manual Xn Setup

The TermPointToGNodeB MO is created in the source gNodeB before the Xn Setup procedure.

The TermPointToGNodeB MO is created either manually, or by the OSS

when activating a planned area.

Figure 2   Xn Setup Procedure

The Xn setup involves the following procedure:

1. The Xn Setup procedure is initiated by setting the TermPointToGNodeB.administrativeState attribute in the source gNodeB to UNLOCKED.Note: The MO is unlocked either manually by the operator, or by the OSS when activating a planned area.
2. The gNodeB uses a Stream Control Transmission Protocol (SCTP) to set up a connection to the gNodeB. For the SCTP association to be established, the following TN configurations are required: For the default TN configuration, create the LocalSctpEndpoint MO under the EndpointResource MO that is referred by GNBCUCPFunction.endpointResourceRef with the LocalSctpEndpoint.interfaceUsed attribute set to Xn For the dedicated TN configuration, create the LocalSctpEndpoint.sctpEndpointRef attribute under the EndpointResource referred by the GNBCUCPFunction MO. The IP address of the target gNodeB is set in one of the following: The TermPointToGNodeB.ipv4Address attribute is defined when the MO is created. The TermPointToGNodeB.ipv6Address attribute is defined when the MO is created. The IP address of the source gNodeB is configured using the LocalSctpEndpoint.sctpEndpointRef attribute.Note: The LocalSctpEndpoint.interfaceUsed attribute must be set to Xn. The IP address of the source gNodeB is set based on the AddressIPv4 or AddressIPv6 MO instance. These MO instances are referred by the SctpEndpoint MO instance. The TermPointToGNodeB.ipv6Address attribute is prioritized over the TermPointToGNodeB.ipv4Address attribute when both of them are set. The prioritization is regardless of the value of LocalSctpEndpoint.sctpEndpointRef.
3. The source gNodeB sends an XN SETUP REQUEST message with a served cell information block.
4. The target gNodeB configures resources based on the content of the XN SETUP REQUEST message in the following way: The target gNodeB creates the ExternalGNBCUCPFunction MO if it does not exist. The target gNodeB creates the TermPointToGNodeB MO and sets TermpointToGNodeB.administrativeState attribute to UNLOCKED. For each entry in the list of served NR cells, an ExternalNRCellCU MO is autocreated if it does not exist. The attributes are set based on the served NR cell information. An NRFrequency MO is created on the following conditions: No NRFrequency MO is present that matches the first band in the band list. No NRFrequency MO is present that matches the NR-ARFCN value of the served NR cell. When a neighboring cell changes frequency, the existing NRCellRelation is maintained if the new frequency has a corresponding NRFreqRelation attribute configured in the cell. If the relation does not exist, the NRCellRelation is lost, and have to be re-created by ANR if active. To maintain the NRCellRelation in neighboring cells, the following sequence must be performed: Create the NRFrequency MO for the new cell frequency, if it does not already exist. Create the NRFreqRelation MO, with the value of nRFrequencyRef created previously for all the neighboring cells in which NRCellRelation are to be maintained. Change the cell frequency. Once the new cell frequency information is propagated, the neighbors are able to update the NRCellRelation.nRFreqRelationRef toward the NRFreqRelation created before. The ExternalNRCellCU MOs which do not exist in the list of served NR cells are deleted regardless if they are referred by the NRCellRelation or the RibTmRelation MO instances when the following conditions apply: The GNBCUCPFunction.extNrCellRemovalByXnSupported attribute is set to true. The indication of complete served cell list is sent in the XN SETUP REQUEST message by the source gNodeB.
5. The target gNodeB sends an XN SETUP RESPONSE message to the source gNodeB, indicating that the TermPointToGNodeB.operationalState attribute is ENABLED.
6. The source gNodeB configures on the content of the XN SETUP RESPONSE message, in the same manner as described in step 4.

The TermPointToGNodeB MO Already Exists

Setting the

TermPointToGNodeB.administrativeState attribute to

LOCKED can result in the source gNodeB

sending a new XN SETUP REQUEST message to the target gNodeB. The target gNodeB responds to

the XN SETUP REQUEST message with an XN SETUP FAILURE

message to the source gNodeB.

Related Information

Feature Operation of Xn Configuration

Automatic Xn Re-Establishment

Reserved MO Name Convention

## 3.2 Automatic Update of the Xn Connection

If the configuration of ExternalNRCellCU MO changes, a

configuration update message is sent to the gNodeB.

The remote gNodeB receives the configuration update

message with the following information:

- Served cells to add
- Served cells to modify
- Served cells to delete

When a neighboring cell changes frequency, the existing NRCellRelation

is maintained if the new frequency has a corresponding NRFreqRelation

attribute configured in the cell. If the relation does not exist, the

NRCellRelation is lost, and have to be re-created by ANR if

active.

To maintain the NRCellRelation in neighboring cells, the following

sequence must be performed:

1. Create the NRFrequency MO for the new cell frequency, if it does not already exist.
2. Create the NRFreqRelation MO, with the value of nRFrequencyRef created previously for all the neighboring cells in which NRCellRelation are to be maintained.
3. Change the cell frequency. Once the new cell frequency information is propagated, the neighbors are able to update the NRCellRelation.nRFreqRelationRef toward the NRFreqRelation created before.

When the gNodeB receives the NG-RAN NODE CONFIGURATION UPDATE message with

Served Cells To Modify NR IE for NR cell ID change, the gNodeB

deletes the existing ExternalNRCellCU MO and its referenced objects,

then creates the new ExternalNRCellCU MO.

When the Xn configuration update is received with Served Cells To Delete NR

IE, the gNodeB deletes the existing ExternalNRCellCU and

its referenced objects.

## 3.3 Automatic Xn Re-Establishment

Automatic Xn re-establishment occurs if the Xn setup failure is caused by any of the

following events:

- Connection is lost between the gNodeBs.
- The remote gNodeB is shut down.
- The Xn setup procedure is terminated by the target gNodeB.

The automatic Xn re-establishment includes the following steps:

1. At Xn setup failure, the underlying SCTP association is terminated.
2. The disconnected gNodeB sets the TermPointToGNodeB.operationalState attribute to DISABLED.
3. The disconnected gNodeB reattempts to start the Xn setup procedure based on the SCTP association between the nodes.
4. The time interval after which the Xn Setup procedure is reattempted is based on the value of the parameter set in the GNBCUCPFunction.maxNgRetryTime attribute.

## 3.4 Removal of the Xn Connection by Locking

The Xn connection is removed if the

TermPointToGNodeB.administrativeState attribute is set to

LOCKED on the gNodeB.

Figure 3   Xn Removal by Locking

The removal of the Xn connection involves the following procedure:

1. The TermPointToGNodeB.administrativeState attribute is set to LOCKED on the gNodeB. Note: The MO is locked either manually by the operator, or by the OSS when activating a planned area.
    1. Locking the TermPointToGNodeB MO in the source gNodeB can result in a new XN SETUP REQUEST message sent by the target gNodeB.
    2. These new XN SETUP REQUEST messages are rejected.
    3. The source gNodeB sends the XN SETUP FAILURE message to the target gNodeB that requested the Xn setup.
2. The source gNodeB either shuts down or ends the SCTP connection.
3. The target gNodeB follows the automatic Xn re-establishment procedure.
    - If the AnrFunction MO exists, the TermPointToGNodeB, ExternalNRCellCU, and ExternalBroadcastPLMNInfo MOs, and the unused parent ExternalGNBCUCPFunction MO are removed after the time period configured through the AnrFunction.removeGnbTime attribute ends. This applies to both the source and the target gNodeB. For more information on the automatic removal of unused neighbor objects, see NR Automated Neighbor Relations.
    - If the AnrFunction MO does not exist, the automatically created TermPointToGNodeB, ExternalNRCellCU, and ExternalBroadcastPLMNInfo MOs are removed after 60 minutes. The ExternalGNBCUCPFunction MO is removed if it has no child MOs and the ExternalGNBCUCPFunction.isRemoveAllowed attribute is set to TRUE. This applies to both the source and the target gNodeB.

## 3.5 High Load Handling

To detect a possibly high number of Xn connections, the load status is checked in the

gNodeB that receives either of the following messages:

- XnAP XN SETUP REQUEST
- XnAP NG-RAN NODE CONFIGURATION UPDATE

High load is detected by the receiving gNodeB comparing the age of the oldest message in

the queue to an internal threshold. If the threshold is exceeded, high load is reported

in the receiving gNodeB.

No High Load Detected in the Receiving gNodeB

Figure 4   No High Load Detected in the Receiving gNodeB

If no high load is detected, the information sent in the XnAP XN SETUP

REQUEST or XnAP NG-RAN NODE CONFIGURATION UPDATE message

is handled before the receiving gNodeB responds with the XnAP XN SETUP

RESPONSE or XnAP NG-RAN NODE CONFIGURATION UPDATE

ACKNOWLEDGE message. Figure 4

shows the scenario when no high load is detected in the receiving gNodeB.

High Load Detected in the Receiving gNodeB

Figure 5   High Load Detected in the Receiving gNodeB

If high load is detected, the receiving gNodeB responds with the XnAP XN SETUP

FAILURE or XnAP NG-RAN NODE CONFIGURATION UPDATE FAILURE

messages. These messages include a waiting time for resending the XnAP XN

SETUP REQUEST and XnAP NG-RAN NODE CONFIGURATION UPDATE

messages. Figure 5 shows the scenario when

high load is detected in the receiving gNodeB.

## 3.6 Standard Load Reporting in NR

A gNodeB can report the maximum number of RRC connections and the available RRC

connection capacity to its neighbors over an Xn connection.

3GPP XnAP resource status reporting procedures enable neighbor gNodeBs to exchange load

measurements. To request the load information, any gNodeB can perform the

Resource Status Reporting Initiation procedure. Using the XNAP

RESOURCE STATUS REQUEST message, it can specify which cells to send

information about, and if the reporting should be done only once or periodically. If

Standard Load Reporting is activated and the request is accepted, the Ericsson gNodeB

sends an XNAP RESOURCE STATUS RESPONSE message. If the request is not

accepted, the gNodeB sends an XNAP RESOURCE STATUS FAILURE message. With

the XNAP RESOURCE STATUS FAILURE message a failure cause is also

specified. If the request was accepted, the information is returned using the

Resource Status Reporting procedure, in an XNAP RESOURCE

STATUS UPDATE message.

This communication can be performed between any two gNodeBs with an active Xn connection,

regardless of vendor or RAN sharing.

For more information on these procedures, see 3GPP TS 38.423.

# 4 Network Impact of Xn Configuration

The Xn Configuration basic function introduces interfaces and IEs.

Capacity and Performance

If Standard Load Reporting is active, Xn signaling can increase.

Interfaces

The following messages are introduced over the Xn interface:

- XN SETUP REQUEST
- XN SETUP RESPONSE
- XN SETUP FAILURE
- XN RESOURCE STATUS REQUEST
- XN RESOURCE STATUS RESPONSE
- XN RESOURCE STATUS FAILURE
- XN RESOURCE STATUS UPDATE
- NG-RAN NODE CONFIGURATION UPDATE
- NG-RAN NODE CONFIGURATION UPDATE ACKNOWLEDGE
- NG-RAN NODE CONFIGURATION UPDATE FAILURE

The following messages are introduced over the

NG

interface:

- UPLINK RAN CONFIGURATION TRANSFER
- DOWNLINK RAN CONFIGURATION TRANSFER

Other Network Elements

No impact.

# 5 Parameters of Xn Configuration

The Xn Configuration basic function introduces parameters to set the local gNodeB termination point between gNodeBs.

Table 3   Feature Parameters

# 6 Performance of Xn Configuration

The basic function has Performance Indicators, PM counters, and PM events to provide

observability of messages that are sent over the Xn-C interface.

Performance Indicators

Table 4 shows the Performance Indicators

associated with Xn Configuration.

Table 4   Performance Indicators for Xn Configuration

| Performance Indicator                                                                                             | Description                                                                                                                                          | Formula                                                                                                                                                                                                                                                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Xn Setup Serviceability – Xn Setup Failure Rate                                                                   | Monitors the failure rate of the Xn Setup procedure.                                                                                                 | Receiver gNodeB: 100 ×                                             (GNBCUCPFunction.pmXnSetupRequestIn -                                             GNBCUCPFunction.pmXnSetupResponseOut)                                         / GNBCUCPFunction.pmXnSetupRequestIn                                                                                               |
| Xn Setup Serviceability – Xn Setup Failure Rate                                                                   | Monitors the failure rate of the Xn Setup procedure.                                                                                                 | Sender gNodeB: 100 ×                                             (GNBCUCPFunction.pmXnSetupRequestOut                                         - GNBCUCPFunction.pmXnSetupResponseIn) /                                             GNBCUCPFunction.pmXnSetupRequestOut                                                                                                |
| Xn Setup Serviceability – Xn Setup Failure Rate at High                                         Load              | Monitors the failure rate of the Xn Setup procedure to detect                                         potentially high load.                         | Receiver gNodeB: 100 ×                                             GNBCUCPFunction.pmXnSetupFailOut /                                             GNBCUCPFunction.pmXnSetupRequestIn                                                                                                                                                                                  |
| Xn Setup Serviceability – Xn Setup Failure Rate at High                                         Load              | Monitors the failure rate of the Xn Setup procedure to detect                                         potentially high load.                         | Sender gNodeB: 100 ×                                             GNBCUCPFunction.pmXnSetupFailIn /                                             GNBCUCPFunction.pmXnSetupRequestOut                                                                                                                                                                                    |
| Xn Setup Serviceability – Xn Node Config Update Failure                                         Rate              | Monitors the failure rate of the NG-RAN Node Configuration                                         Update procedure.                                 | Receiver gNodeB: 100 ×                                             (GNBCUCPFunction.pmXnNodeConfigUpdateIn                                         -                                             GNBCUCPFunction.pmXnNodeConfigUpdateAckOut)                                         /                                         GNBCUCPFunction.pmXnNodeConfigUpdateIn |
| Xn Setup Serviceability – Xn Node Config Update Failure                                         Rate              | Monitors the failure rate of the NG-RAN Node Configuration                                         Update procedure.                                 | Sender gNodeB: 100 ×                                             (GNBCUCPFunction.pmXnNodeConfigUpdateOut                                         -                                             GNBCUCPFunction.pmXnNodeConfigUpdateAckIn)                                         /                                         GNBCUCPFunction.pmXnNodeConfigUpdateOut  |
| Xn Setup Serviceability – Xn Node Config Update Failure Rate                                         at High Load | Monitors the failure rate of the NG-RAN Node Configuration                                         Update procedure to detect potentially high load. | Receiver gNodeB: 100 *                                             GNBCUCPFunction.pmXnNodeConfigUpdateFailOut                                         /                                         GNBCUCPFunction.pmXnNodeConfigUpdateIn                                                                                                                               |
| Xn Setup Serviceability – Xn Node Config Update Failure Rate                                         at High Load | Monitors the failure rate of the NG-RAN Node Configuration                                         Update procedure to detect potentially high load. | Sender gNodeB:                                             GNBCUCPFunction.pmXnNodeConfigUpdateFailIn                                         /                                         GNBCUCPFunction.pmXnNodeConfigUpdateOut                                                                                                                                       |

Counters

The following PM counters are associated with Xn Configuration:

- GNBCUCPFunction.pmXnNodeConfigUpdateIn
- GNBCUCPFunction.pmXnNodeConfigUpdateOut
- GNBCUCPFunction.pmXnNodeConfigUpdateAckIn
- GNBCUCPFunction.pmXnNodeConfigUpdateAckOut
- GNBCUCPFunction.pmXnNodeConfigUpdateFailIn
- GNBCUCPFunction.pmXnNodeConfigUpdateFailOut
- GNBCUCPFunction.pmXnSetupRequestIn
- GNBCUCPFunction.pmXnSetupRequestOut
- GNBCUCPFunction.pmXnSetupResponseIn
- GNBCUCPFunction.pmXnSetupResponseOut
- GNBCUCPFunction.pmXnSetupFailIn
- GNBCUCPFunction.pmXnSetupFailOut

Events

The following events are used for monitoring the Xn NG-RAN NODE CONFIGURATION

UPDATE message of the 3GPP Xn NG-RAN node Configuration Update

procedure:

- CuCpXnNgRanNodeConfigurationUpdate
- CuCpXnNgRanNodeConfigurationUpdateAcknowledge
- CuCpXnNgRanNodeConfigurationUpdateFailure

The following events are used for monitoring the

DOWNLINK RAN CONFIGURATION TRANSFER and the UPLINK RAN

CONFIGURATION TRANSFER messages of the 3GPP NG-RAN configuration

procedures:

- CuCpNgDownlinkRanConfigurationTransfer
- CuCpNgUplinkRanConfigurationTransfer

The following events are used for monitoring the XN SETUP REQUEST

message of the 3GPP Xn Setup procedure:

- CuCpXnSetupFailure
- CuCpXnSetupRequest
- CuCpXnSetupResponse

The following events are used for monitoring the Standard Load Reporting

messaging:

- CuCpXnResourceStatusRequest
- CuCpXnResourceStatusResponse
- CuCpXnResourceStatusFailure
- CuCpXnResourceStatusUpdate

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

# 8 Engineering Guidelines for Xn Configuration

## 8.1 Reserved MO Name Convention

The Xn Configuration basic function uses a strict naming convention. If the name for the

newly created ExternalGNBCUCPFunction or

ExternalNRCellCU MO instance is already reserved, the MO cannot

be created. The naming convention must follow the following format:

- ExternalGNBCUCPFunction=auto&lt;mcc&gt;\_&lt;mnc&gt;\_&lt;mncLength&gt;\_&lt;gNodeBId&gt;
- TermPointToGNodeB=auto1
- ExternalNRCellCU=auto&lt;nrCgi&gt;

The naming convention behavior differs on the target and the source gNodeB in the following ways:

- It is possible that the target gNodeB cannot create the required MOs based on the XN SETUP REQUEST message. In such cases, an XN SETUP FAILURE message is sent to the source gNodeB, and the SCTP is shut down. The time interval after which the Xn Setup procedure is reattempted is a value between the following settings: The value of the parameter set in the GNBCUCPFunction.maxNgRetryTime attribute The halved value of the GNBCUCPFunction.maxNgRetryTime attribute
- It is possible that the source gNodeB cannot create the required MOs based on the XN SETUP RESPONSE message. In such cases, the source gNodeB shuts down the SCTP connection. The source gNodeB follows the automatic Xn re-establishment procedure.

## 8.2 Security Layer for SCTP Configuration

The Security Layer for SCTP feature requires the configuration of the SctpEndpoint MO

to be enabled.

Security Layer for SCTP can be used in two modes: forced or preferred. Both modes are

enabled by configuring the SctpEndpoint.dtlsSctpSecurityMode

attribute. To use forced mode, the SctpEndpoint.dtlsSctpSecurityMode

attribute must be set to forced. To use preferred mode, the

SctpEndpoint.dtlsSctpSecurityMode attribute must be set to

preferred.

The feature is disabled by default, and the

SctpEndpoint.dtlsSctpSecurityMode attribute must be configured to

enable it. To disable the feature, the

SctpEndpoint.dtlsSctpSecurityMode attribute must be set to

disabled.

The attributes SctpEndpoint.dtlsTrustCategory and

SctpEndpoint.dtlsNodeCredential are used to reference the

certificates being used at the DTLS handshake.

The attribute SctpEndpoint.dtls is used to reference the configured

cipher suite to be used.

The cipher suites supported by SCTP with DTLS protection are listed below:

- TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_GCM\_SHA384
- TLS\_ECDHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_CCM
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_CCM\_8
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_CBC\_SHA384
- TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA384
- TLS\_ECDHE\_ECDSA\_WITH\_CHACHA20\_POLY1305\_SHA256
- TLS\_ECDHE\_RSA\_WITH\_CHACHA20\_POLY1305\_SHA256
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_GCM\_SHA256
- TLS\_ECDHE\_RSA\_WITH\_AES\_128\_GCM\_SHA256
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_CCM
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_CCM\_8
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_CBC\_SHA256
- TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256
- TLS\_DHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384
- TLS\_DHE\_DSS\_WITH\_AES\_256\_GCM\_SHA384
- TLS\_DHE\_RSA\_WITH\_AES\_256\_CBC\_SHA256
- TLS\_DHE\_DSS\_WITH\_AES\_256\_CBC\_SHA256
- TLS\_DHE\_RSA\_WITH\_AES\_128\_GCM\_SHA256
- TLS\_DHE\_DSS\_WITH\_AES\_128\_GCM\_SHA256
- TLS\_DHE\_RSA\_WITH\_CHACHA20\_POLY1305\_SHA256
- TLS\_DHE\_RSA\_WITH\_AES\_128\_CBC\_SHA256
- TLS\_DHE\_DSS\_WITH\_AES\_128\_CBC\_SHA256
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_CBC\_SHA
- TLS\_ECDHE\_RSA\_WITH\_AES\_256\_CBC\_SHA
- TLS\_ECDH\_ECDSA\_WITH\_AES\_256\_CBC\_SHA
- TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_CBC\_SHA
- TLS\_ECDHE\_RSA\_WITH\_AES\_128\_CBC\_SHA
- TLS\_DHE\_RSA\_WITH\_AES\_256\_CBC\_SHA
- TLS\_DHE\_DSS\_WITH\_AES\_256\_CBC\_SHA
- TLS\_DHE\_RSA\_WITH\_AES\_128\_CBC\_SHA
- TLS\_DHE\_DSS\_WITH\_AES\_128\_CBC\_SHA
- TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384
- TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA256
- TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256
- TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA256
- TLS\_RSA\_WITH\_AES\_256\_CBC\_SHA
- TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA

## 8.3 Configuring Standard Load Reporting

Standard load reporting can be configured using MOM attributes.

Standard load reporting can be enabled or disabled using the

GNBCUCPFunction.resourceStatusReportDefault attribute. If it is

set to −2, reporting is deactivated and the gNodeB does not send any

Standard Load Reporting messages. If the

GNBCUCPFunction.resourceStatusReportDefault attribute is set to a

value greater than 0, load reporting is activated.

The NRCellCU.resourceStatusMaxConnUe attribute can be used to control

the maximum number of RRC-connected UEs for each cell. If it is set to

-2 the value of the

GNBCUCPFunction.resourceStatusReportDefault attribute is used for

that cell. The AdmissionLimit.maxConnectedUe attribute is also

considered when determining the maximum number of RRC connected UEs. If it is set to a

lower value than the value of the

GNBCUCPFunction.resourceStatusReportDefault or the value of the

NRCellCU.resourceStatusMaxConnUe attributes, the value of the

AdmissionLimit.maxConnectedUe attribute will be used for that

cell.

The maximum number of RRC connected UEs must be set taking into account the maximum

number of connected UEs for each gNodeB and for each sector carrier. For more

information on these capacity limits, see Supported Capacity and Configurations for NR RAN.