---
complexity_score: 50.5
converted_at: '2025-08-13T06:58:08.901110Z'
file_type: html
format: html
image_processing_enhanced: true
images_extracted: 8
images_saved: 3
original_path: 54_22104-LZA7016017_1Uen.JX33C.html
pictures_extracted: 8
processing_method: docling_multimodal
quality_score: 9.0
source_file: 54_22104-LZA7016017_1Uen.JX33C.html
source_zip: en_lzn7931071_r38f.zip
tables_extracted: 81
zip_image_types:
- .svg
- .png
- .gif
- .jpg
- .bmp
zip_images_total: 2796
---

# 

NR Standalone

Contents

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

- Overview
- Dependencies
- Feature Operation
    - NG-C Interface to 5G Core Network Function
        - NG-C Setup
        - NGAP Procedures for the NG-C Connection
        - Discovery of AMFs via DNS
    - UE Capability Check Framework
        - Handling of UEs Failing the Capability Check at Initial Context Setup
        - Handling of UEs Failing the Capability Check at Handover Attempt
    - Feature Operation of Connection Establishment
        - Handling of Overlapping Operating Bands
        - Handling of UE Capability Enquiry in Case of Overlapping Operating Bands
        - UE Context Supervision
        - NGAP Initial UE Context Setup with Robust UE Capability Enquiry
    - Feature Operation of Paging
        - Reception of NGAP Paging
        - Discontinuous Reception
        - Transmission of the RRC Paging Message to the UE
        - Additional Monitoring Slots for Paging in Low-Band FDD
    - Feature Operation of Random Access
        - Feature Operation of Contention-Based Random Access
        - Feature Operation of Contention-Free Random Access
    - Feature Operation of Data Transfer
        - PDU Session Resource Setup Procedure
        - Inactivity Supervision
        - Network RLF Detection
        - PDU Session Resource Modify Procedure
        - PDU Session Resource Release Procedure
        - Exceeding System Limits
    - TCP Optimization in NR Standalone
    - High Power UE Support
    - Configuration of Handover Procedure Supervision Timers
- Network Impact
- Parameters
- Performance
- Activate Non-License-Controlled Features
    - Enable Discovery of AMFs via DNS
    - Disable Discovery of AMFs via DNS
- Engineering Guidelines
    - Configure NG-C Interface Termination Point between gNodeB and the Core Network
    - PLMN Service Is Unavailable Because of NG-C Link Break
    - Cell Range and Root Sequence Index Settings
        - Cell Range Configuration in Low-Band
        - Cell Range Configuration in Mid-Band
    - Inactivity Timer Configuration
    - High Power UE Support in NR SA Configuration
    - Discovery of AMFs via DNS Configuration
    - Configuration Options Related to NR Service-Adaptive User Plane Profile
        - Deprecation Handling
        - Migration Information
    - Paging Capacity over the Air Interface
    - Configuration for UE Context Supervision
- Appendix: Feature Change History
    - Appendix: 20.Q2: Support for CPRI Radio Units in Standalone Deployment
    - Appendix: 20.Q4: UE Capability Check for NR Standalone with Non-Compliant UE Handling
    - Appendix: 20.Q4: UE Capability Info Refresh
    - Appendix: 21.Q1: Support for Overlapping Bands and Observability of UE Capability Failure
    - Appendix: 21.Q2: High Power UE Support in NR
    - Appendix: 22.Q3: Configuration of AQM MODE1 in the gNodeB-DU for NR Standalone
    - Appendix: 22.Q3: High Power UE Support for Power Class 1.5 in NR Standalone
    - Appendix: 22.Q4: Improved Configuration of Paging
    - Appendix: 23.Q1: High Power UE Mobility Improvement
    - Appendix: 23.Q4: Discovery of AMFs via DNS
    - Appendix: 24.Q1.0: Contention-Free Random Access for Handover
    - Appendix: 24.Q3.0: UE-Specific DRX for NR Standalone and NR Standalone High-Band for Fixed Wireless Access
    - Appendix: 25.Q1.0: UE Context Supervision
    - Appendix: 25.Q2.0: Power Class 2 High Power UE Support for Low-Band in NR Standalone
    - Appendix: 25.Q2.0: Robust UE Capability Enquiry

# 1 NR Standalone Overview

| Feature Name           | NR Standalone                                           |
|------------------------|---------------------------------------------------------|
| Feature Identity       | FAJ 121 5060                                            |
| Value Package Name     | NR Base Package                                         |
| Value Package Identity | FAJ 801 4002                                            |
| Node Type              | Baseband Radio Node                                     |
| Access Type            | NR                                                      |
| Licensing              | Non-license-controlled feature. No license is required. |

Summary

The NR Standalone feature includes the following functions:

- Connection establishment
- Random access
- Paging
- Data transfer

Non-Standalone and Standalone Dual Mode

The NR Standalone and EN-DC coexistence function enables NR

standalone-capable

UEs and

EN-DC-capable

UEs to connect and set

up data calls in the same NR cell.

When activating NR Standalone, using NRCellDU.secondaryCellOnly,

the NR cell is configured to transmit SIB1 but can still serve EN-DC users if

non-standalone is deployed. For non-standalone only

mode,

RACH uses

CORESET#1,

but when NR Standalone is

activated,

RACH uses the CORESET#0 configuration until Msg4 for

both NR

standalone and EN-DC users.

Connection Establishment

The NR

Standalone

Connection Establishment function sets up a signaling connection between the UE and

the AMF (Access and Mobility Management Function).

When the signaling connection is established, messages can be exchanged between the

AMF and the UE through the gNodeB. A type of message exchanged between the AMF and

UE is the NAS message. Such messages are used for the following functions:

- Registration
- Registration area update
- Establishment of PDU sessions for the UE

NR SA Connection Establishment also supports the following functions:

- The establishment of a secure radio link
- The retrieval of UE radio capabilities if not available in the gNodeB

Random Access

Random access is one of the basic functions in NR RAN. The UE uses the function for

the following purposes:

- Obtaining access to the NR network
- Gaining uplink time alignment
- Requesting an uplink grant without a dedicated scheduling request resource

The CBRA process is initiated by the UE when trying to gain

access to the network. The UE randomly selects one random access preamble code from the

available list of codes. After its selection, the UE transmits the preamble code in the

uplink through PRACH to gain access to the network.

Contention can occur under the following conditions:

- Multiple UEs attempt to access the network through the same PRACH slot.
- The UEs attempting to access the network use the same preamble code.

The CBRA process involves additional signaling to resolve contention.

In CFRA, the network allocates a dedicated random access

preamble index to the UE. Each preamble index is allocated for one UE at a time to

prevent contention.

Paging

5GC

initiated

paging is a functionality by which the UE is enabled to receive and decode paging

messages sent by the AMF.

The paging procedure is used for the

following

purposes by the network:

- Requesting the establishment of an NAS signaling connection to the UE.
- Requesting the UE to re-establish the user plane resources of PDU sessions for downlink user data transport.
- Requesting the UE to re-establish the user plane resources of PDU sessions associated with non-3GPP access over 3GPP access.

Paging is the only way for the network to notify the UE in idle mode about incoming

data sessions. Since DRX is normally used by the UEs, broadcast of paging has to

coincide with non-DRX or awake periods of the UE. Optimal configuration of paging

and related Idle Mode DRX parameters can assist in the following:

- Reducing the power consumption of the UE.
- Enabling the UE to stay in idle mode and receive notifications through paging when there is incoming data.
- Allowing the network to know the location of the UE in 5GMM-REGISTERED or 5GMM-IDLE stage on tracking area level.

UE-specific DRX allows an idle mode DRX cycle up to 2.56

seconds to be negotiated between the UE and the AMF during the NAS Registration

procedure. The DRX cycle can be used to page the UE up to the maximum of the default

value set in the Paging.defaultPagingCycle attribute.

The recommended NR paging capacity for Baseband Radio Nodes is 900 per second in Low-Band and

Mid-Band and 200 per second in High-Band.

Data Transfer

The NR Standalone data transfer function enables the network to set up DRBs and PDU

sessions to send and receive user data.

The function provides the possibility to add, modify, and remove QoS flows in

existing PDU sessions. The AMF provides a QoS Flow ID (QFI). For more information on

QFI, see E2E QoS Guideline.

When the NR RRC Connection Re-establishment feature is configured, the RLF starts a

timer in the gNodeB to wait for the UE to send a request for the RRC Connection

Re-establishment procedure. If the feature is not configured the gNodeB releases the

UE context without waiting for the request for the RRC Connection Re-establishment

procedure.

The NR Standalone data transfer also introduces the network RLF detection. The RLF

detection is based on the maximum number of downlink RLC Transmission reached for

DRBs or SRBs. The RLF initiates the network to release the UE context.

Additional Information

For more information and related topics, see the following documentation:

- 3GPP TS 23.501; System Architecture for the 5G System (5GS)
- 3GPP TS 23.502; Procedures for the 5G System (5GS)
- 3GPP TS 38.211; NR; Physical Channels and Modulation
- 3GPP TS 38.213; NR; Physical Layer Procedures for Control
- 3GPP TS 38.214; NR; Physical Layer Procedures for Data
- 3GPP TS 38.300; NR; Overall Description; Stage-2
- 3GPP TS 38.321; NR; Medium Access Control (MAC) Protocol Specification
- 3GPP TS 38.331; NR; Radio Resource Control (RRC)
- 3GPP TS 29.303; Domain Name System Procedures - Stage 3
- 3GPP TS 23.003; Numbering, addressing and identification

1NR Standalone Overview

# 2 Dependencies of NR Standalone

Feature Dependencies

Table 1   Feature Dependencies

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

| Feature                                     Name                                                                         | Feature Identity   | Access Type   | Relationship   | Relationship Scope   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------------------|--------------------|---------------|----------------|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Coverage Extension Low-Band                                                                                              | FAJ 121 5080       | NR            | Related        |                      | The feature allows PRACH format 0 configuration and the extension                                     of the NR Low-Band cell range up to 15 km. It also enables a                                     larger coverage area for the gNodeB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Ericsson Reduced Capability Extended                                         DRX                                         | FAJ 121 5700       | NR            | Related        |                      | The Ericsson Reduced Capability Extended DRX feature is supported for             NR standalone Low-Band and Mid-Band configurations. The feature allows DRX cycles to be             extended up to 2.9Â hours for RedCap UEs in idle mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Latency-Prioritized Scheduling                                                                                           | FAJ 121 5786       | NR            | Related        |                      | The Latency-Prioritized Scheduling feature is related to the TCP optimization function of             the NR Standalone feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Latency-Prioritized Scheduling for                                         Time-Critical Communication for Dedicated RAN | FAJ 121 5799       | NR            | Related        |                      | The Latency-Prioritized Scheduling for Time-Critical             Communication feature is related to the TCP optimization function of the NR Standalone             feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Latency-Prioritized Scheduling for                                         Time-Critical Communication for Public RAN    | FAJ 121 5798       | NR            | Related        |                      | The Latency-Prioritized Scheduling for Time-Critical             Communication feature is related to the TCP optimization function of the NR Standalone             feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| RRC Inactive State                                                                                                       | FAJ 121 5328       | NR            | Related        |                      | UE power class is re-evaluated based on the stored UE capabilities when the UE resumes to             RRC_CONNECTED state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| NR Air Interface Protection                                                                                              | FAJ 121 5340       | NR            | Related        |                      | If the integrity protection of the user plane function of the       NR Air Interface Protection feature is enabled, the packets that are to be in effect discarded       by the RLC AQM for TCP optimization function of the NR Standalone feature might fail user       plane integrity verification in the UE. The packets might also fail because of invalid PDU       size in the UE.  When the NR Air Interface Protection feature is activated, the                                     Initial Context Setup and the PDU Session Resource Setup                                     procedures contain the information related to the user plane                                     integrity protection.                                                                                                 |
| NR Combined Cell                                                                                                         | FAJ 121 5554       | NR            | Related        |                      | CFRA is only supported for the NR Combined Cell feature if the total             number of preambles does not exceed 16.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| NR Extended N77 Band Support                                                                                             | FAJ 121 5480       | NR            | Related        |                      | The gNodeB can configure UEs with extended n77 band frequency ranges only if the UE             capability message indicates the appropriate RF parameter. Otherwise, the gNodeB             triggers release with redirect to LTE for the UE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR-NR Dual Connectivity                                                                                                  | FAJ 121 5380       | NR            | Related        |                      | If the values of the age threshold for downlink RLC buffer monitoring is set higher than             the AQM minimum and maximum age thresholds of the TCP optimization function, the high             buffer report might be delayed or prevented due to discarded user plane packets.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| NR Standalone High-Band for Fixed Wireless                                         Access                                | FAJ 121 5592       | NR            | Related        |                      | The NR Standalone High-Band for Fixed Wireless Access feature             reuses the signaling functionality from the NR Standalone feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| NR Uplink Carrier Aggregation                                                                                            | FAJ 121 5583       | NR            | Related        |                      | The NR Standalone feature is needed for the NR Uplink Carrier             Aggregation feature to be operable.  If CFRA preambles are used for             PCell handover and SCell time synchronization at the same time, it is not possible to             use more than half of the total number of CFRA preambles for SCell time             synchronization.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NR Uplink RRC Message                                     Segmentation                                                   | FAJ 121 5446       | NR            | Related        |                      | The feature allows the UEs to segment the RRC                                         UECapabilityInformation message to send the UE                                     capabilities to the gNodeB segmented into multiple RRC                                         ULDedicatedMessageSegment messages.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR                                     Mobility                                                                          | FAJ 121 5041       | NR            | Related        |                      | With differentiated measurement thresholds for high power UEs,                                     the extension of cell coverage for high power UEs is enabled in                                     the Mobility Control at Poor Coverage functionality of the                                     feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NR Traffic Steering                                                                                                      | FAJ 121 5458       | NR            | Related        |                      | With differentiated measurement thresholds for high power UEs in                                     the Multi-Layer Coordination function, high power UEs can be                                     supported on the candidate PCell during inter-frequency                                     handover.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| NR DL Carrier Aggregation                                                                                                | FAJ 121 5201       | NR            | Related        |                      | The NR DL Carrier Aggregation feature enables downlink       carrier aggregation with two component carriers for the gNodeB in NR standalone       deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| NR DL Carrier Aggregation for Coverage                                         Extension                                 | FAJ 121 5202       | NR            | Related        |                      | The NR DL Carrier Aggregation for Coverage Extension       feature       enables       downlink carrier aggregation with up to two component carriers for the       gNodeB in NR standalone deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| NR 3CC DL Carrier Aggregation                                                                                            | FAJ 121 5426       | NR            | Related        |                      | The NR 3CC DL Carrier Aggregation feature       enables       downlink carrier aggregation with up to three component carriers for the gNodeB in NR       standalone deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR 4CC DL Carrier Aggregation                                                                                            | FAJ 121 5518       | NR            | Related        |                      | The NR 4CC DL Carrier Aggregation feature       enables       downlink carrier aggregation with up to four component carriers for the gNodeB in NR       standalone deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| NR 5CC DL Carrier Aggregation                                                                                            | FAJ 121 5639       | NR            | Related        |                      | The NR 5CC DL Carrier Aggregation feature enables downlink carrier aggregation             with up to five component carriers for the gNodeB in NR standalone deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| NR 6CC DL Carrier Aggregation                                                                                            | FAJ 121 5753       | NR            | Related        |                      | The NR 6CC DL Carrier Aggregation feature enables downlink carrier aggregation with up to             six component carriers for the gNodeB in NR standalone deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Mixed TDD Pattern Support for                                         DL Carrier Aggregation                             | FAJ 121 5808       | NR            | Related        |                      | The Mixed TDD Pattern Support for DL Carrier Aggregation feature             enables downlink carrier aggregation across up to three capacity modules for mixed TDD             patterns.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| TDD PCell Support for DL Carrier                                         Aggregation Low/Mid-Band                        | FAJ 121 5363       | NR            | Related        |                      | The TDD PCell Support for DL Carrier Aggregation       Low/Mid-Band feature       enables       downlink carrier aggregation with up to two component carriers for the gNodeB in NR standalone       deployments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| NR QoS Profile Modification (FAJ 121                                     5503)                                           | FAJ 121 5503       | NR            | Related        |                      | If QoS modification is applied to a UE or a DRB in the serving cell, the throughput for             the other UEs or DRBs in the same cell might degrade.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| NR Dynamic QoS Modification                                                                                              | FAJ 121 5622       | NR            | Related        |                      | The NR Dynamic QoS Modification feature uses the PDU Session Resource Modify                 procedure provided by the NR Standalone feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Measurement Gap-Aware NR                                     Scheduling                                                  | FAJ 121 5295       | NR            | Related        |                      | A UE that is capable of reporting measurement gap requirement             information is requested by the gNodeB to start reporting dynamically at Initial Context             Setup. The request is sent again to the UE after the Initial Context Setup whenever it             is applicable, so the UE is configured to report all the time.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Positioning of UEs without PDU                                         Session                                           | FAJ 121 5821       | NR            | Related        |                      | In the case of UE positioning, a connection can be established                                     between the UE and the Access and Mobility Management Function                                     (AMF) without PDU Session configuration. The UE context                                     supervision function of the NR Standalone feature provides                                     measurements related to cell coverage and UE radio connection                                     for UEs set up without PDU Session configuration. This prevents                                     resources from being retained in the cell if poor cell coverage                                     or connection lost is detected during the positioning of such                                     UEs. |
| User- and Service-Specific                                     Mobility                                                  | FAJ 121 5399       | NR            | Related        |                      | The User- and Service-Specific Mobility feature provides UE                                     grouping support for the UE context supervision function of the                                     NR Standalone feature. The feature enables the application of UE                                     group-specific configuration of the function. If the User- and                                     Service-Specific Mobility feature is not active, the                                     configuration data is applied as defined in the base MO                                     instance.                                                                                                                                                                                                        |
| NR Dynamic Power Optimizer                                                                                               | FAJ 121 5443       | NR            | Related        |                      | If the NR Dynamic Power Optimizer feature is enabled, switching                                     to sparse search space is only possible for UEs with PDU Session                                     establishment. UEs that are connected without PDU Session                                     establishment remain in the dense search space.                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| NR Service Admission Control                                                                                             | FAJ 121 5693       | NR            | Related        |                      | When the PDU sessions or QoS flows reach the configured limit,                                     the following procedures are done without establishing new PDU                                         sessions:  UE Context Setup     PDU Session Resource Setup     PDU Session Resource Modify                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR Service-Adaptive Inactivity                                 Timer                                                     | FAJ 121 5326       | NR            | Related        |                      | The NR Service-Adaptive feature enables UE differentiated configuration of the user plane             inactivity timer in NR Standalone.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

System Functions

The

system allows the UE to use random access for the following purposes:

- Network access
- Synchronization for uplink transfers
- Access after radio link failure

Hardware

The

NR

Standalone feature is supported on all Baseband units supporting

NR.

The NR Standalone feature

is

supported

on

the following radio units:

- Low-Band eCPRI FDD radio units
- Mid-Band eCPRI TDD radio units
- Low-Band CPRI FDD radio units
- Mid-Band CPRI TDD radio units

Limitations

The random access function does not support the following functions:

- Supplementary Uplink
- HARQ
- PUCCH

For CFRA, only unrestricted set for random access preambles

can be configured.

Only 5G Core Network initiated paging is included in this document.

Only Ericsson AMF is considered.

The number of PDU sessions for each UE is limited to eight.

The number of DRBs for each PDU session is limited to four.

The number of DRBs for each UE is limited to eight.

The number of QoS flows for each DRB is limited to one.

Initial access from RRC\_IDLE mode is the supported trigger

for random access.

Network Requirements

This feature requires a 5G Core Network.

This feature requires an NR SA-compliant UE.

CFRA requires the UE to support reserved MCS values for PUSCH

retransmission with initial PUSCH scheduled by RAR UL grant, which is described in

3GPP TS 38.214 version 16.14.0.

2Dependencies of NR Standalone

# 3 Feature Operation of NR Standalone

## 3.1 NG-C Interface to 5G Core Network Function

The 5GC architecture is service-based. The system functionality is achieved as a set of

network functions that provide service access to other authorized network functions.

A network function is a component of the network infrastructure that provides a specific

functional behavior. A network function is made up of network function services.

The Access and Mobility Management Function (AMF) tracks the UE registered in the system.

The AMF coordinates signaling for network functions in the 5GC. It also provides service

operations for initiating NGAP messages towards the gNodeB.

The gNodeB connects to the AMF through the NG-C interface, which

consists of NGAP protocol messages transferred between the AMF and the gNodeB.

### 3.1.1 NG-C Setup

In an NR standalone deployment, the NG-C connection is set up between a gNodeB and the 5GC. The NG-C setup procedure must be preceded by

the creation of the TermPointToAmf MO on the gNodeB. The MO is created with one of the following methods:

- Manually
- By the ENM
- By the system

The NG-C is set up according to the following sequence:

- The NG-C setup process is initiated when the TermPointToAmf MO is unlocked on the gNodeB. This is achieved by setting the TermPointToAmf.administrativeState attribute to UNLOCKED with one of the following methods: Manually By the ENM By the system
- The gNodeB uses an SCTP to set up a connection to the AMF of the 5GC. A DNS resolver is used when an SCTP association is set up. Table 2 Attributes Supplying the Local SCTP Endpoint IP Address of the AMF IPv4 IPv6 Primary IP Address TermPointToAmf.ipv4Address1 TermPointToAmf.ipv6Address1 Secondary IP Address TermPointToAmf.ipv4Address2 TermPointToAmf.ipv6Address2
- When the SCTP connection is set up, the gNodeB sends an NG-C setup request to the AMF including the following information: NR CGI gNodeB identity PLMN identity TAC Paging DRX
- The AMF sends an NG-C setup response to the gNodeB.
- The TermPointToAmf.operationalState attribute changes to ENABLED.

#### 3.1.1.1 TermPointToAMF Lock and Unlock Procedures

The TermPointToAmf MO represents the connection endpoint of the Access

and Mobility Management Function (AMF) of the 5GC and the gNodeB.

If the TermPointToAmf.administrativeState attribute is set to

LOCKED, the gNodeB initiates an NGAP reset

procedure. After the procedure, the SCTP association between the gNodeB and the AMF is terminated.

If the TermPointToAmf.administrativeState attribute is set to

UNLOCKED, the following procedure is executed:

- The gNodeB initiates an SCTP association to the AMF.
- The gNodeB sends an NGAP NG SETUP REQUEST message to the AMF.
- The AMF sends the NGAP NG SETUP RESPONSE message to the gNodeB.

When the procedure is complete, the NG-C connection between the gNodeB and the AMF exists. The

TermPointToAmf.operationalState attribute is set to

ENABLED and the

TermPointToAmf.availabilityStatus attribute is empty.

### 3.1.2 NGAP Procedures for the NG-C Connection

In an NR standalone deployment, the NG-C connection is set up between the gNodeB and the Access and Mobility Management Function (AMF) of

the 5GC. When the NG-C setup procedure is completed, the gNodeB

and the AMF are connected by the NG-C. If the NG-C connection is functional, the

TermPointToAmf.operationalState attribute is set to

ENABLED.

The gNodeB initiates the appropriate NGAP procedure to

re-establish the NG-C connection to the AMF, if any of the following cases applies:

- NGAP setup after NG-C connection failure NG-C connection re-establishment is started if a failure either in the gNodeB or the AMF occurs, or when the timer set in the GNBCUCPFunction.maxCommonProcTime attribute expires.
- NGAP setup after the gNodeB restarts

A reset of the NG-C connection can be initiated by the AMF if it detects 5GC failure.

During the NGAP reset procedure, the TermPointToAmf.operationalState

attribute remains ENABLED.

#### 3.1.2.1 NGAP Setup after NG-C Connection Failure

The SCTP tracks the NG-C connection between the gNodeB and the

Access and Mobility Management Function (AMF) of the 5GC. If there is an NG-C connection

failure, the NG-C link between the gNodeB and the AMF breaks.

When the NG-C link breaks, the following procedure is executed:

- The SCTP receives notification of the NG-C connection failure.
- The TermPointToAmf.operationalState attribute displays DISABLED. As a result, the TermPointToAmf.availabilityStatus attribute changes to DEPENDENCY\_FAILURE.
- The SCTP initiates an SCTP association between the gNodeB and the AMF to restore connection.
- When the SCTP association is restored, the gNodeB starts an NG-C setup procedure by sending the NGAP SETUP REQUEST message to the AMF.
- The AMF responds with the message.
- The NG-C connection between the gNodeB and the AMF is restored, and the TermPointToAmf.operationalState attribute displays ENABLED. As a result, the TermPointToAmf.availabilityStatus attribute is empty.

#### 3.1.2.2 NGAP Setup after Node Restart

The gNodeB initiates and maintains the NG-C connection to the

Access and Mobility Management Function (AMF) of the 5GC. If the connection was

established before the restart, the gNodeB re-establishes the

connection after the restart.

The value of the TermPointToAmf.administrativeState attribute is

stored in the gNodeB and retrieved after the node restart

procedure is completed. If the value of the

TermPointToAmf.administrativeState attribute is

UNLOCKED, the gNodeB initiates the NG-C

setup procedure.

### 3.1.3 Discovery of AMFs via DNS

Discovery of AMFs via DNS supports the automatic discovery of Access and Mobility

Management Function (AMF) nodes and the automatic setup of NG-C connections.

Discovery of AMFs via DNS can be triggered with one of the following methods:

- Manually from ENM with one of the following updateAmfConnection options RETAIN\_EXISTING: This option retains all TermPointToAmf MO instances and NG-C connections for AMFs that AMFs FQDN is included in DNS response. TermPointToAmf MO instances and NG-connections for AMFs that AMFs FQDN is not included in the response are removed if they are not protected with the isRemoveAllowed attribute set to FALSE. For AMFs FQDN that are unknown to the gNodeB, the gNodeB creates TermPointToAmf MO instances and establishes NG-C connections to those AMFs. RENEW\_ALL: The gNodeB releases all NG-C connections and removes all TermPointToAmf MO instances if they are not protected with the isRemoveAllowed attribute set to FALSE, makes new DNS lookups, and creates TermPointToAmf AMF term-points and NG-C connections for AMFs that AMFs FQDN are included in DNS response. Traffic might be disturbed by this option.
- Automatically by the system with one of the following methods: During feature activation During node restart Periodically by setting the GNBCUCPFunction.dnsLookup5GsTaiPeriodicTimer attribute During a DNS lookup retry if the DNS lookup times out.

RETAIN\_EXISTING sequence is followed for automatic

triggers. The

discovery of AMFs

via

DNS sequence can be started if the following prerequisites are fulfilled:

- The DNS service is activated and configured.
- At least one NR cell is configured in the NRCellCU with valid 5GS TAI.

The discovery of AMFs via DNS follows the following sequence:

Figure 1   Discovery of AMFs via DNS Procedure Overview

1. An NAPTR DNS query is performed. The query is based on 5GS TAI FQDN. All 5GS TAI that are configured in the NR cells are considered. The query resolves AMF domain names for all AMFs serving the requested 5GS TAI. The gNodeB takes resolved AMF domain names that are configured in the DNS server. If the resolved AMF FQDN list is empty, the sequence is ended.
2. The TermPointToAmf MO is created and unlocked for each resolved AMF domain name. Upon TermPointToAmf creation, the gNodeB sets following TermPointToAmf attributes: TermPointToAmf.domainName It is set to the AMF domain name resolved by the DNS lookup on 5GS TAI. It is used for matching the resolved and already configured AMFs during the Discovery of AMFs via DNS algorithm. TermPointToAmf.termPointToAmfId It is set to PLMNId + AMFregion + AMFset + AMFptr. TermPointToAmf.operatorPLMNId It is set to plmnId that is a part of 5GS TAI for DNS client selection when legacy DNS queries take place. It can be left empty by the gNodeB if it is equal to the value of the GNBCUCPFunction.pLMNId attribute. TermPointToAmf.defaultAmf It is resolved by the DNS lookup on 5GS TAI as a network capability option. TermPointToAmf.isRemoveAllowed It is set to TRUE for automatically created TermPointToAmf MOs. TermPointToAmf.pwsRestartHandling It is resolved by the DNS lookup on 5GS TAI as a network capability option. TermPointToAmf.additionalOperatorPLMNIdList It is set automatically during TAI DNS lookup with a list of additional PLMNs. The operator can also manually define the additional PLMN list. All the other MO attributes They are set during NG-C connection setup, when the NG-C setup response message is received from AMF.
3. DNS lookup on AMF domain names is performed to resolve IPv4 or IPv6 AMF addresses.
4. An SCTP association and NG-C connection is set with the IP addresses of resolved AMFs. For existing AMF domain names that are not resolved from the DNS server, the NG-C connection is released and TermPointToAmf MO instance is removed.

For more details about Discovery of AMFs via DNS, see NR SA Connectivity Guideline with Option 2.

## 3.2 UE Capability Check Framework

The UE capability check framework for NR standalone ensures proper UE

handling based on the reported UE

capabilities and the features that are activated on the gNodeB.

It allows for the following mechanisms:

- To perform UE capability check based on network configuration.
- To configure the UE based on the reported capabilities.
- To handle UEs that fail the capability check.

To acquire UE capabilities, the gNodeB initiates the UE

capability enquiry procedure to the UE by using the following exchange of RRC

messages:

1. The gNodeB sends the RRC UECapabilityEnquiry message to the UE. This message contains the network configuration to which the UE capabilities are compared.
2. The UE responds with the RRC UECapabilityInformation message that contains all the capability information the network requested.

The UE capability enquiry procedure is only performed in the following cases:

- The UE capabilities are not received from the Access and Mobility Management Function (AMF)
- The UE capabilities are not stored in the gNodeB
- The received capability information is missing band-specific information for at least one of the 3GPP bands carried by all the NRFrequency MOs configured in the gNodeB

Based on the evaluation of the received UE capability information, the gNodeB proceeds with either of the following:

- Reconfigures the UE to provide the most optimal radio configuration.
- Provides a mechanism for the handling of UEs that fail the capability check by not supporting the minimum capabilities required by the network.

The AMF is updated with the new UE capability information with a UE CAPABILITY

INFO INDICATION message.

### 3.2.1 Handling of UEs Failing the Capability Check at Initial Context Setup

The UE capability check procedure is performed at Initial Context Setup. UEs that do not

support minimum capabilities required by the network fail the UE capability check. These

UEs are released to RRC\_IDLE mode and redirected blindly to an LTE

frequency.

The gNodeB selects the target LTE frequencies for release with redirect based on the

configuration of the UeMCEUtranFreqRelProfileUeCfg.blindRwrAllowed

attribute. If no suitable LTE frequency is found, the UE is released to

RRC\_IDLE mode.

The pmEbsRwrEutranUeSuccUeCapFail PM counter measures the successful

Release with Redirect to LTE processes caused by UE Capability Failure in the DU,

increasing observability for UE capability failure

handling.

### 3.2.2 Handling of UEs Failing the Capability Check at Handover Attempt

The UE capability check procedure is performed at intra-frequency handover attempts. UEs

that do not support minimum capabilities required by the target cell or target gNodeB fail the UE capability check. These UEs are kept in the

serving PCell at rejection of the following intra-frequency handover attempts:

- Inter-gNodeB handover
- Intra-gNodeB handover

## 3.3 Feature Operation of Connection Establishment

Connection establishment is determined by the interactions among the UE, the gNodeB, and the Access and Mobility Management Function

(AMF).

The UE initial access contains the following procedures:

1. The random access procedure
2. The RRC connection establishment procedure
3. The UE registration procedure, including NAS signaling and the initial context setup

After the initial access, the UE can request that a PDU Session is

established. However, the UE can be registered in the network without PDU Session establishment.

The UE context supervision function

provides the following measurements to detect poor cell coverage, alternative PCell

candidates, and lost connection for UEs that are registered in the network without

PDU Session establishment:

- Critical PCell coverage measurement
- Better PCell candidate measurement
- Periodic PCell RSRP measurement

The NR RAN supports network slice and core network selection mechanisms. These mechanisms

are based on the S-NSSAI list received from the UE. The NR RAN interacts with the UE

over the RRC layer and enables UE-associated signaling with the Access and Mobility

Management Function (AMF).

Figure 2   Connection Establishment Signaling before Initial Context Setup

Figure 3   Connection Establishment Signaling at Initial Context Setup and Registration

Completed

1. Random Access After the UE decodes SIB1 in the serving cell, the random access procedure is performed between the UE and the gNodeB. Therefore, a signaling connection between the UE and the gNodeB is established.
2. RRC Connection Establishment As part of the RRC connection establishment, the UE sends a NAS registration request to the gNodeB in the RRCSetupComplete message.
3. UE Registration - AMF Selection The gNodeB receives the AMF identifier with the UE identity. This is compared with the AMF identity received at NG link setup with one of the following outcomes: If a match of AMF identifiers is found, a matched AMF is available and the corresponding NG-C link is operational, the NGAP INITIAL UE MESSAGE is routed to the specific AMF. If a matched AMF is not available, no match is found or the NG-C link is not operational, a new AMF is selected from the pool that receives the message. If the AMF identifier is a random value in the UE identity, an AMF is selected from the pool.Note: Optionally, if a proper subscription permanent identifier is not found in the UE identity, the AMF initiates the UE identity retrieval. The gNodeB supports the AMF Status Indication procedure over the NG-C interface. An AMF is considered as unavailable if its all associated GUAMIs are set to unavailable by Unavailable GUAMI List IE in the AMF STATUS INDICATION message. Note: For more information about AMF STATUS INDICATION procedure, see 3GPP TS 38.413 NG-RAN; NG Application Protocol (NGAP) .
4. UE Registration - NGAP INITIAL UE MESSAGE The NGAP INITIAL UE MESSAGE, which contains the NAS registration request, is sent to the selected AMF by the gNodeB. The NAS registration request triggers the NAS signaling connection which is established between the gNodeB and the AMF.
5. UE Registration - Authentication and Key Agreement After the required UE identifier is available for the AMF, Authentication is performed as follows: The AMF sends the gNodeB the NGAP DOWNLINK NAS TRANSPORT message. This contains the NAS authentication request message. This triggers that the gNodeB sends the RRC DLInformationTransfer message to the UE. The UE forwards the NAS PDU received in the message. As a response, the UE sends the RRC ULInformationTransfer message to the gNodeB. The message contains a NAS PDU. The gNodeB sends the NGAP UPLINK NAS TRANSPORT message to the AMF, forwarding the NAS PDU received from the UE. This message contains the NAS authentication response.
6. UE Registration - NAS Security Activation NAS security context is used by starting the NAS signaling security between the UE and the AMF. The NAS security signaling is performed with the corresponding NAS keys and NAS security algorithms. The procedure comprises the following message exchanges: The AMF sends the gNodeB the NGAP DOWNLINK NAS TRANSPORT message. This contains the NAS security mode command message. This triggers that the gNodeB sends the RRC DLInformationTransfer message to the UE. As a response, the UE sends the RRC ULInformationTransfer message to the gNodeB. The gNodeB sends the NGAP UPLINK NAS TRANSPORT message that contains the NAS security mode complete message.
7. UE Registration - Initial Context Setup The Initial Context Setup procedure establishes the initial UE context in the gNodeB as follows: For more information on the Initial Context Setup in NR SA, see 3GPP TS 38.413; Rel-15; NG-RAN; NG Application Protocol (NGAP).
    1. The AMF sends the NGAP INITIAL CONTEXT SETUP REQUEST message to the gNodeB. This contains the NAS registration accept message. If the UE is not newly registered, the NGAP INITIAL CONTEXT SETUP REQUEST message can include the UE capabilities stored in the AMF. If the NGAP INITIAL CONTEXT SETUP REQUEST message does not contain PDU session information, the UE capability check is performed at the first PDU session establishment.
    2. The NAS REGISTARTION ACCEPT message is forwarded to the UE by the gNodeB in the RRC DLInformationTransfer message.
    3. At the reception of the RRC DLInformationTransfer message, the UE and the gNodeB performs the AS Security Activation procedure. The gNodeB sends the RRC SecurityModeCommand message to the UE. As a response, the UE replies with the RRC SecurityModeComplete message.
    4. UE Capability Refresh and Reporting The gNodeB evaluates the relevance of the UE capability information supplied by the AMF and initiates the RRC UECapabilityEnquiry message if the UE capability information needs to be refreshed for relevance. The NRCellCU.robustUeCapEnquiryMode attribute controls the Robust UE Capability Enquiry function on the cell level and determines whether the UE Capability Enquiry message is split and sent separately. The UE reports capabilities by responding with the RRC UECapabilityInformation message. After that, the refreshed set of UE capability information are relayed to the AMF by the gNodeB in the NGAP UE RADIO CAPABILITY INFORMATION message. The refresh is performed if band-specific UE capability information is missing for any of the 3GPP bands carried by all the NRFrequency MOs configured in the gNodeB. Specifically, this covers the case of no UE capability information received from the AMF.
    5. UE Capability Check The UE capability check is performed to optimize the UE radio configuration according to the reported capabilities. If the check is successful, the UE is reconfigured based on its capabilities and the activated features on the gNodeB. This is done by the exchange of the RRCReconfiguration and the RRCReconfigurationComplete messages between the gNodeB and the UE. If the UE fails the capability check, it is released and redirected blindly to an LTE frequency.
    6. UE Radio Capability Check The purpose of the UE Radio Capability Check is that the AMF requests the gNodeB to indicate if the UE radio capabilities are compatible with the network configurations for IMS voice. The AMF initiates the signaling by sending the NGAP UE RADIO CAPABILITY CHECK REQUEST message to the gNodeB. The required information is sent by the gNodeB to the AMF in the NGAP UE RADIO CAPABILITY CHECK RESPONSE message.
    7. When the initial UE context is established in the gNodeB, it signals this to the AMF by sending the NGAP UE INITIAL CONTEXT SETUP RESPONSE message.
8. UE Registration - Registration Completed The UE sends the RRC ULInformationTransfer message to the gNodeB which contains the NAS REGISTRATION COMPLETE message. The UE registration in the network is completed when the AMF receives the NGAP UPLINK NAS TRANSPORT message from the gNodeB.

After the UE is registered in the network, it can request that a PDU session is

established.

Related concepts

Feature Operation of Contention-Based Random Access

Feature Operation of Data Transfer

UE Context Supervision

Configuration for UE Context Supervision

Related Information

3GPP TS 38.413, Rel 15, NG-RAN; NG Application Protocol (NGAP)

NR Air Interface Protection

### 3.3.1 Handling of Overlapping Operating Bands

The following attributes contain operating bands signaled in SIB1 to the UE:

- NRCellDU.bandList
- NRCellDU.bandListManual

The

UE goes through the order of bands and picks the first band it supports. The network

then picks the same band for the PCell, and freely chooses the band for the SCells.

Finally, the information is synchronized in the gNodeB.

When the operating bands on the gNodeB overlap, the gNodeB prepares the affiliation of the cells to the different

overlapping operating bands based on UE capabilities.

The gNodeB reconfigures the UE based on its capabilities,

including cell and measurement configurations, with the

RRCReconfiguration message to provide the most optimized UE

connectivity in the network.

### 3.3.2 Handling of UE Capability Enquiry in Case of Overlapping Operating Bands

The overlapping bands that are included in the UE Capability Enquiry

message can be configured manually.

The following attributes contain operating bands that are

signaled

in SIB4 to the UE:

- NRFrequency.bandList
- NRFrequency.bandListManual

The NRFrequency.bandListManual attribute controls

on

the cell level which overlapping bands are included in the UE

Capability Enquiry message. If this attribute is not configured, the

NRFrequency.bandList attribute is used instead.

The NRCellCU.robustUeCapEnquiryMode attribute controls whether two,

separate UE Capability Enquiry messages are sent. In this case, the NR

capabilities are requested before the LTE capabilities.

The gNodeB reconfigures the UE based on

the

UE capabilities, including cell and measurement configurations, with

the RRCReconfiguration message to provide the most optimized UE

connectivity in the network.

### 3.3.3 UE Context Supervision

The UE context supervision function provides measurements to detect poor cell

coverage, alternative PCell candidates, and lost connection.

Figure 4   UE Context Supervision Measurements

The UE context supervision function provides the following measurements:

| Critical PCell coverage measurement   |    | This optional measurement uses an A2 measurement to detect when the UE                             moves into critical coverage in the PCell.                                                               |
|---------------------------------------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                       |    |                                                                                                                                                                                                             |
| Better PCell candidate measurement    |    | This optional measurement uses an A3 measurement to detect when the                             signal of a neighbor NR cell is offset better than the one of the                             serving cell. |
|                                       |    |                                                                                                                                                                                                             |
| Periodic PCell RSRP measurement       |    | This measurement continuously monitors the UE to detect lost radio                             connection by tracking when a periodic PCell RSRP measurement report is                             missed.  |

If the gNodeB detects poor coverage in the PCell, an alternative PCell candidate or a

lost UE radio connection, it initiates the UE context release procedure. This prevents

resources being retained in the cell because of the UE context being held for an

extended time.

Related concepts

Configuration for UE Context Supervision

### 3.3.4 NGAP Initial UE Context Setup with Robust UE Capability Enquiry

When the Robust UE Capability Enquiry function is enabled, the UE Capability

Enquiry message is split.

During the NGAP Initial Context Setup process, the Access and Mobility Management

Function (AMF) sends the NGAP INITIAL CONTEXT SETUP REQUEST message to

the gNodeB. The UE capabilities are requested during this

process.

The

Robust

UE Capability Enquiry function allows to split UE capability into

separate UE capability enquiry requests, in which case the NR capabilities are requested

before the LTE capabilities. The Robust UE Capability Enquiry function is enabled by

default during this process and can be controlled with the

NRCellCU.robustUeCapEnquiryMode attribute on the cell level. The

following configurations are possible depending on the value of the

NRCellCU.robustUeCapEnquiryMode attribute:

- When the value of the attribute is COMBINED\_THEN\_SPLIT, the UE Capability Enquiry message is split and sent to the UE if the PDCP integrity validation for the initial UE Capability Information fails. This is the default configuration.
- When the value of the attribute is COMBINED\_ONLY, the UE Capability Enquiry message is never split.
- When the value of the attribute is SPLIT\_ONLY, the UE Capability Enquiry message is always split.

## 3.4 Feature Operation of Paging

Paging is used by the core network to notify a specific UE in RRC\_IDLE state about

incoming data sessions. Paging messages are sent by the core network to all gNodeBs in the Tracking Area.

The UE tracks the PDCCH at regular intervals, according to the DRX configuration, to

check for the presence of a paging message. The UE can spend the remainder of the time

in sleep mode. DRX behavior of the UE is configured by parameters broadcast in SIB1.

Operational Process

1. The RAN receives NGAP paging messages without priority.
2. Paging messages are transmitted in all cells within the affected Tracking Area by the gNodeB on the PDSCH. The DCI for paging is broadcast on PDCCH where the information about the modulation and coding scheme of the PDSCH data containing the RRC paging message is found.
3. The DCI for paging on PDCCH is transmitted with a CRC, which is scrambled with the P-RNTI. The DCI for paging notifies the UE about the presence of a paging message.
4. When a UE detects a DCI for paging on the PDCCH, it demodulates and decodes the paging message that is contained in the PDSCH and forwards it over the PCH to the MAC layer. The PCH transport block contains the exact identity of the terminal being paged. If the UE does not find its own identity on the detected PCH, then it discards the PCH data and sleeps, according to the DRX cycle.

### 3.4.1 Reception of NGAP Paging

When the NR network receives an incoming call or data session targeting a UE registered

in the network, the AMF tries to notify the UE. It transmits an NGAP Paging message over

the NG-C interface to all gNodeB within the tracking area where

the target UE is registered. The NGAP Paging message contains the information required

for the gNodeB to uniquely address the target UE at the non-DRX

period of the UE, that is, when the UE is not in sleep mode.

#### 3.4.1.1 Paging Overload Protection

A paging overload protection mechanism is used to improve gNodeB reliability and

robustness. This mechanism protects the gNodeB from being overloaded by paging signaling

incoming from the core network.

The Paging.pagingDiscardTimer attribute is used to determine how long

a received paging message is retained without being sent. If the configured time

expires, the message is discarded.

Incoming paging intensity is continuously tracked, and if it reaches the maximum allowed

value, the paging message is discarded.

Incoming paging intensity is tracked by NGAP. If there is a paging overload in the

gNodeB-CU, paging messages are discarded and the

GNodeBCUCPFunction.pmPagNgDiscarded counter is stepped.

### 3.4.2 Discontinuous Reception

UEs in idle mode use DRX to reduce power consumption.

Parameters controlling DRX are contained in the SIB1 message broadcast in the cell. These

parameters are used by the UE to calculate when to wake up to monitor the PDCCH. The UE

monitors one paging occasion for each DRX cycle associated with a paging frame. The

length of a paging frame is one radio frame that is 10 ms.

A paging occasion does not necessarily reside inside a paging frame. The paging frame

serves as a starting point for calculating the paging occasion positions. A paging

occasion is a set of PDCCH Monitoring Occasions (PMO) and can consist of multiple time

slots, for example, subframe or OFDM symbol.

The UE uses a formula to calculate its paging frames and paging occasions, indicating

specific subframes that might contain paging messages addressed to that UE. The UE is

required to monitor all of its paging occasions to determine if a paging message is

addressed to it.

The PMOs for paging are determined according to the

pagingSearchSpace identity configured by the RRC.

#### 3.4.2.1 UE-Specific Discontinuous Reception

UE-specific DRX allows UEs to request a DRX cycle that is suitable for the software

applications and services that they support.

UE-specific DRX allows an idle mode DRX cycle to be negotiated between the UE and the AMF

during the NAS Registration procedure. The UE-specific DRX enables the UE to select a

DRX cycle for improved downlink latency at the cost of higher UE battery

consumption.

Lower core network paging latency is expected because UEs can request DRX cycles suitable

for the supported software applications and services.

The DRX cycle can be used to page the UE up to the maximum of the default value set in

the Paging.defaultPagingCycle attribute.

#### 3.4.2.2 Extended Discontinuous Reception

The DRX cycle can be extended up to 2.91 hours.

The UE and the AMF can negotiate the use of idle mode eDRX over the NAS Registration

procedure. The idle mode eDRX can be used to reduce UE power consumption.

The eDRX allows the idle mode DRX cycle to be extended to a maximum of 2.91 hours. A

normal DRX cycle can be extended only to 2.56 seconds.

The value of the Paging.pagingDiscardTimerEdrx attribute must be set

to 10 or higher. The maximum allowed value is 20

to reduce paging discards if the eDRX cycle is longer than or equal to

10.24 seconds.

Setting the Paging.pagingDiscardTimerEdrx attribute to a value higher

than 10 might affect internal system performance.

### 3.4.3 Transmission of the RRC Paging Message to the UE

Each gNodeB that receives the NGAP paging message from the Access

and Mobility Management Function (AMF) sends an RRC paging message to the cells that

belong to the Tracking Area stated in the NGAP paging message. The RRC paging message is

transmitted in the paging frame and paging occasion of that specific UE. If the RBS

sends several NGAP paging messages to UEs that have the same paging frame and paging

occasion, then information about more than one UE can be included and broadcast in the

same RRC paging message. The message notifies all the referenced UEs about incoming data

sessions addressed to them.

### 3.4.4 Additional Monitoring Slots for Paging in Low-Band FDD

The paging monitoring occasions are in slots 6+7+8+9, depending on the number of downlink

slots per paging occasion on Low-Band FDD system. The paging occasion is configured by

the Paging.nS parameter.

Table 3   Paging Configuration

|   Paging.nS Configuration | Monitoring Slot Result   |
|---------------------------|--------------------------|
|                         1 | 6                        |
|                         2 | 6, 7                     |
|                         4 | 6, 7, 8, 9               |

## 3.5 Feature Operation of Random Access

### 3.5.1 Feature Operation of Contention-Based Random Access

Random access in NR Standalone allows the UE to obtain the following network components:

- Access to the NR network
- Uplink timing synchronization

The gNodeB and the UE can set up a successful RRC

connection after the following events occur:

- Sending the random access preamble message
- Exchanging the contention resolution message

Multiple UEs that use different random access preamble codes can access the network at

the same time. The preamble codes are transmitted in the uplink on the PRACH channel.

The gNodeB can detect multiple random access preambles at the

same time.

The gNodeB must determine whether the devices in the NR cell are

configured for non-standalone or standalone. The UE configuration type is identified by

Msg3, or by the presence of session data.

This

information is sent in the RRC reconfiguration message before the RACH procedure.

In CBRA, the UE randomly selects one random access preamble code from a list of available

codes. Contention can occur when the UE makes multiple attempts to access the cell in

the same PRACH slot with the same preamble code. To resolve contention, CBRA requires

additional signaling at the time of code selection.

The PRACH periodicity values are the following:

| Low-Band   |    | 10 ms or one frame   |
|------------|----|----------------------|
|            |    |                      |
| Mid-Band   |    | 10 ms or one frame   |

For improved coverage, the starting symbol within a slot is symbol 0.

The following requirements must be fulfilled for the random access procedure to

operate:

1. The RACH configuration is applied to the cell.
2. The UE reads the system information in SIB1.

Operational Process

Figure 5   Operational Sequence Diagram

1. The gNodeB broadcasts SIB1 on the BCCH.
2. The UE sends a random access preamble on the PRACH to the gNodeB (Msg1).
3. The gNodeB sends the assigned resources through the PDCCH and sends the random access response on the PDSCH (Msg2).
4. The UE sends an RRC Setup Request message on the PUSCH (Msg3).
5. The gNodeB sends the Contention Resolution Message on the PDSCH. Note: This is a PDSCH transmission addressed to the temp-C-RNTI. The temp-C-RNTI contains the UE Contention Resolution Id.
6. The gNodeB sends the RRC Setup message on the PDSCH.
7. The UE sends the RRC Setup Complete message to the gNodeB on the PUSCH.

In the RACH procedure, both standalone and non-standalone can be configured in a

cell. In such cases, CORESET#0 is used for Msg 1-4. Before the RACH procedure,

CORESET#0 information must be sent to the NSA UE in the RRC Reconfiguration message.

After RRC setup, CORESET#1 is used for scheduling the UE.

Related concepts

Feature Operation of Connection Establishment

#### 3.5.1.1 Random Access Preamble Transmission in Low-Band

The network provides the UE information about the PRACH channel before each transmission.

The UE receives the information in an overhead message. In this way, the UE can

determine the following characteristics:

- The SSB configuration
- The scheduling of PRACH channels
- The preamble format
- The code sequence

The overhead message for Low-Band contains a specific PRACH preamble format and a

corresponding subcarrier spacing value.

Table 4   Supported PRACH Preamble Formats and Subcarrier Spacing Values

| PRACH Preamble Format   | Subcarrier Spacing   |
|-------------------------|----------------------|
| B4                      | 15 kHz               |
| 0                       | 1.25 kHz             |
| 1                       | 1.25 kHz             |

The overhead message for Low-Band also contains the following information:

- The BWP that the UE uses. Note: Only one BWP can be active at a given time.
- The unrestricted set of cyclic shifts for preambles that the NR system applies.
- Information on PDCCH and PDSCH, PUCCH and PUSCH configuration.

Table 5   PRACH Configuration Indexes and Maximum Cell Range on Low-Band

| Preamble Format   | PRACH Configuration Index(1)        | Maximum Cell Range Support   | Description                                                                                                                                                                                                                                  |
|-------------------|-------------------------------------|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B4                | 209 (slot 1 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| B4                | 210 (slot 4 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| B4                | 211 (slot 7 with starting symbol 0) | 10 km                        | Format B4 is the default preamble format.                                                                                                                                                                                                    |
| 0                 | 16 (slot 1 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 0                 | 17 (slot 4 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 0                 | 18 (slot 7 with starting symbol 0)  | 15 km                        | Format 0 requires the Coverage Extension Low-Band feature to be                                 activated.                                                                                                                                   |
| 1                 | 44 (slot 1 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |
| 1                 | 45 (slot 4 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |
| 1                 | 46 (slot 7 with starting symbol 0)  | 100 km                       | PRACH format 1 is not supported in Mid-Band. Format 1 requires the                                 Coverage Extension Low-Band and the Extended Propagation Delay                                 Support Low-Band features to be activated. |

(1)

The selection of PRACH configuration indexes that are used

depends on the configuration. For some configurations, not

all available PRACH configuration indexes are used.

Related Information

Supported Capacity and Configurations for NR RAN

Coverage Extension Low-Band

Extended Propagation Delay Support Low-Band

#### 3.5.1.2 Random Access Preamble Transmission in Mid-Band

The network provides the UE information about the PRACH channel before each transmission.

The UE receives the information in an overhead message. In this way, the UE can

determine the following characteristics:

- The SSB configuration
- The scheduling of PRACH channels
- The preamble format
- The code sequence

The overhead message for Mid-Band contains the following information:

- The NR system expects preamble format B4 or 0.
- The NR system uses 30 kHz subcarrier spacing for B4 and 1.25 kHz subcarrier spacing for format 0.
- The NR system allocates one PRACH occurrence in each 10 ms radio frame.
- The NR system uses a TDD pattern specified by the configuration.
- The NR system uses specific PRACH configurations for the different supported TDD patterns. Table 6 PRACH Configurations Indexes and Supported TDD Patterns Preamble Format PRACH Configuration Index(1) Supported TDD Pattern(2) Description B4 158 (slot 15 with starting symbol 0) 4+2+4 Format B4 is the default preamble format. 159 (slot 19 with starting symbol 0) 3+1 4+1 4+1+3+2 0 7 (slot 18-19 with starting symbol 0) 8+2 Format 0 requires the PRACH Enhancements Mid-Band feature to be active. For more information, see PRACH Enhancements Mid-Band. 4+1+3+2 9 (slot 14-15 with starting symbol 0) 4+2+4 (1) The selection of PRACH configuration indexes that are used depends on the configuration. For some configurations, not all available PRACH configuration indexes are used. (2) For more information on the supported TDD patterns, see the Data Transmission section in Scheduler Mid-Band.
- The BWP that the UE uses. Note: Only one BWP can be active at a given time.
- The unrestricted set of cyclic shifts for preambles that the NR system applies.
- Information on PUSCH, PDCCH and PDSCH configuration.

The feature supports preamble format 0 and B4. B4 is the default value.

Specific PRACH preamble format and cell range combinations are supported. These

combinations are determined by the number of available uplink slots in the supported TDD

patterns.

For TDD patterns with two continuous uplink slots, the cell range can increase up to 15

km. The use of TDD patterns with one uplink slot limits the cell range to 5 km, and

format B4 must be used.

Table 7   Cell Range Support for Mid-Band

| Preamble Format   | Maximum Cell Range Support   | Allowed TDD Pattern Configuration               | Description                                                                                                                                                    |
|-------------------|------------------------------|-------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B4                | 5 km                         | One uplink slot     Two continuous uplink slots | Format B4 is the default preamble format.                                                                                                                      |
| 0                 | 15 km                        | Two continuous uplink slots                     | Format 0 requires the PRACH Enhancements Mid-Band feature to be                                 active. For more information, see PRACH Enhancements Mid-Band. |

#### 3.5.1.3 Random Access Response Message

The random access response message is transmitted on the PDSCH to a specific RA-RNTI

address. The random access response message can contain responses to more than one

detected random access preamble code. Multiple random access response messages can be

sent within the random access response window. Therefore, the NR system can respond to

random access attempts from multiple UEs, transmitted in the same PRACH subframe.

The UE monitors the PDCCH for the specific RA-RNTI address. The address matches the

subframe number in which the random access preamble burst is transmitted.

The random access response message includes the following information:

- The random access preamble sequence code
- An initial uplink grant for transmitting the subsequent data on the uplink channel
- Time alignment information that ensures the time alignment of subsequent uplink data transmissions. In this way, uplink data transmissions do not interfere with uplink transmission by other UEs in adjacent subframes.
- Temporary C-RNTI

The random access message, which is Msg2, is transmitted using DCI Format 1\_0 on PDCCH. A

PDSCH transmission contains allocation information for the Msg3 PUSCH transmission. The

random access response reception is successful on the following conditions:

- It is received within the random access response search window.
- It contains the random access preamble identifier that matches the transmitted random access preamble index.

#### 3.5.1.4 RRC Setup Request

The UE sends the RRC Setup Request in Msg3 using SRB0. When the RRC SETUP

REQUEST message is transmitted, the UE starts the t300 timer to monitor the

RRC connection establishment procedure. If the procedure is successful, the gNodeB responds to the UE with an RRC SETUP

COMPLETE message. If the procedure fails, the gNodeB

replies with an RRC REJECT message.

In both cases, the UE expects to receive a reply from the gNodeB

before the t300 timer expires.

#### 3.5.1.5 Contention Resolution

After the UE transmitted the RRC SETUP REQUET message, the gNodeB sends the UE a Contention Resolution Id MAC Control

element to resolve the contention. This is followed by an RRC SETUP

message to configure the UE for SRB1.

For NR standalone, contention resolution is realized with the following procedures:

- The gNodeB sends a downlink DCI on the PDCCH.
- The UE decodes a subsequent UE Contention Resolution Id MAC control element on the PDSCH.

The Contention Resolution Id MAC control element is referred to as contention

resolution message.

#### 3.5.1.6 RRC Setup Complete

After the reception of the RRC SETUP message, the UE transmits the

RRC SETUP COMPLETE message on SRB1. The PUSCH transmission carries

the RRC SETUP COMPLETE message. The reception of the PUSCH transmission

in the gNodeB signifies the following:

- The UE received the contention resolution message.
- The CBRA procedure is complete.

#### 3.5.1.7 Power Ramping

The random access transmission process uses open-loop power

control. The UE estimates the transmission power required to achieve a specified

reception power value for the first random access burst. Power ramping can be used for

subsequent retransmission bursts. The process continues until the following conditions

occur:

- The UE successfully receives a response from the NR system.
- The maximum number of transmission attempts is reached.

Figure 6   Power Ramping

### 3.5.2 Feature Operation of Contention-Free Random Access

The gNodeB attempts to perform the CFRA procedure if the following conditions are met:

- The NRCellDU.cfraEnabled attribute is set to true in the target cell.
- The UE is in a group for which the corresponding RachUeCfg.cfraEnabled attribute is set to true.

CFRA is possible for the following procedures:

- The following PCell handover procedures: Intra-gNodeB Handover NG-Based Inter-gNodeB Handover Xn-Based Inter-gNodeB Handover
- SCell time synchronization

CFRA is supported at handover to an ESS cell.

For CFRA, the PRACH periodicity values are the following:

| Low-Band   |    | 10 ms or one frame   |
|------------|----|----------------------|
|            |    |                      |
| Mid-Band   |    | 10 ms or one frame   |

Operational Process

Figure 7   Operational Process of Contention-Free Random Access

1. The UE is assigned a dedicated random access preamble. This way, the need for contention resolution is eliminated.
2. The UE sends Msg1 to the gNodeB on PRACH. Msg1 contains the dedicated preamble assigned by the gNodeB.
3. At the reception of the dedicated preamble, the gNodeB recognizes the UE and sends Msg2, which is the random access response message, on the PDSCH to a specific RA-RNTI address.

#### 3.5.2.1 Random Access Preamble Allocation

For CFRA, the network reserves and sends a dedicated preamble sequence to the UE for a

limited period. For the cell and the UE group for which the CFRA is enabled, the number

of available CFRA preambles depends on the value set in the

NRCellDU.totalNoOfRaPreambles and

NRCellDU.noOfCbraPreambles attributes. The total number of CFRA

preambles is determined by the difference between the total number of RACH preambles and

the number of CBRA preambles.

No dedicated preambles are reserved and allocated to the UE if CFRA is not enabled in a

cell.

When CFRA is not used for PCell handover, all CFRA preambles can be allocated for SCell

time synchronization. If CFRA preambles are used for PCell handover and SCell time

synchronization at the same time, it is not possible to use more than half of the total

number of CFRA preambles for SCell time synchronization.

#### 3.5.2.2 Random Access Preamble Transmission in Low-Band

Based on the RACH configuration, the following characteristics are determined:

- The SSB configuration
- The PRACH configuration index
- The number of CBRA preambles and the number of CFRA preambles
- The SSB associated with the RACH
- The CFRA preamble allocated for the UE

Table 8   PRACH Configuration Index and Maximum Cell Range in Low-Band

| Preamble Format   | PRACH Configuration Index(1)        | Maximum Cell Range Support  (2)   |
|-------------------|-------------------------------------|-----------------------------------|
| B4                | 209 (slot 1 with starting symbol 0) | 10 km                             |
| B4                | 210 (slot 4 with starting symbol 0) | 10 km                             |
| B4                | 211 (slot 7 with starting symbol 0) | 10 km                             |
| 0                 | 16 (slot 1 with starting symbol 0)  | 15 km                             |
| 0                 | 17 (slot 4 with starting symbol 0)  | 15 km                             |
| 0                 | 18 (slot 7 with starting symbol 0)  | 15 km                             |
| 1                 | 44 (slot 1 with starting symbol 0)  | 100 km                            |
| 1                 | 45 (slot 4 with starting symbol 0)  | 100 km                            |
| 1                 | 46 (slot 7 with starting symbol 0)  | 100 km                            |

(1)

The selection of PRACH configuration indexes depends on the

configuration. For some configurations, not all available

PRACH configuration indexes are used.

(2)

If the PRACH preamble format is set to 0, the maximum cell range

can be configured to be greater than 15 km. However, this might

cause random access performance degradation and channel

interference.

For RACH preamble format B4, which is the default preamble format, short PRACH sequences

are used with a total number of 138 root sequences. Root sequence is recommended to be

planned in a way that preamble overlapping between neighbor cells is avoided. If RACH

preamble format B4 is used in Low-Band, the gNodeB determines the RACH slot. In this

case, allocating different root sequences to neighbor cells prevents preamble

overlapping.

RACH preamble format 0 requires the Coverage Extension Low-Band feature to be

enabled.

RACH preamble format 1 is not supported in Mid-Band. Format 1 requires the Coverage

Extension Low-Band and the Extended Propagation Delay Support Low-Band features to be

activated.

The UE transmits the assigned CFRA preamble according to the RACH configuration.

Related Information

Supported Capacity and Configurations for NR RAN

Coverage Extension Low-Band

Extended Propagation Delay Support Low-Band

#### 3.5.2.3 Random Access Preamble Transmission in Mid-Band

Based on the RACH configuration, the following characteristics are determined:

- The SSB configuration
- The PRACH configuration index
- The number of CBRA preambles and the number of CFRA preambles
- The SSB associated with the RACH
- The CFRA preamble allocated for the UE

The 5GC uses specific PRACH configurations for the different supported TDD patterns.

Table 9   PRACH Configuration Index and Supported TDD Pattern

| Preamble Format   | PRACH Configuration Index  (1)        | Supported TDD Pattern   |
|-------------------|---------------------------------------|-------------------------|
| B4                | 155 (slot 3 with starting symbol 0)   | 3+1                     |
| B4                | 156 (slot 5 with starting symbol 1)   | 4+2+4                   |
| B4                | 156 (slot 5 with starting symbol 1)   | 4+4+2                   |
| B4                | 157 (slot 9 with starting symbol 2)   | 4+1                     |
| B4                | 157 (slot 9 with starting symbol 2)   | 4+1+3+2                 |
| B4                | 157 (slot 9 with starting symbol 2)   | 8+2                     |
| B4                | 158 (slot 15 with starting symbol 0)  | 3+1                     |
| B4                | 158 (slot 15 with starting symbol 0)  | 4+2+4                   |
| B4                | 158 (slot 15 with starting symbol 0)  | 4+4+2                   |
| B4                | 159 (slot 19 with starting symbol 0)  | 3+1                     |
| B4                | 159 (slot 19 with starting symbol 0)  | 4+1                     |
| B4                | 159 (slot 19 with starting symbol 0)  | 8+2                     |
| 0                 | 9 (slot 14â15 with starting symbol 0) | 4+2+4                   |
| 0                 | 7 (slot 18â19 with starting symbol 0) | 8+2                     |

(1)

The selection of PRACH configuration indexes depends on the

configuration. For some configurations, not all available PRACH

configuration indexes are used.

For RACH preamble format B4, which is the default preamble format, short PRACH sequences

are used with a total number of 138 root sequences. Root sequence is recommended to be

planned in a way that preamble overlapping between neighbor cells is avoided. For RACH

preamble format B4 in Mid-Band, the PRACH configuration index is configurable in the

NRCellDU.prachConfigIndex attribute. To avoid overlapping between

neighbor cells, the configuration must meet one of the following conditions:

- The same RACH preambles are used for neighbor cells if they have different RACH slots configured.
- The same RACH slots are used for neighbor cells if they have different root sequences configured.

Specific RACH preamble format and cell range combinations are supported. These

combinations are determined by the number of available uplink slots in the supported TDD

patterns.

Table 10   Cell Range Support for Mid-Band

| Preamble Format   | Maximum Cell Range Support   | Allowed TDD Pattern Configuration               |
|-------------------|------------------------------|-------------------------------------------------|
| B4                | 5 km                         | One uplink slot     Two continuous uplink slots |
| 0                 | 15 km                        | Two continuous uplink slots                     |

RACH preamble format 0 requires the PRACH Enhancements Mid-Band feature to be

activated.

The UE transmits the assigned CFRA preamble according to the RACH configuration.

Related Information

PRACH Enhancements Mid-Band

Scheduler Mid-Band

#### 3.5.2.4 Random Access Response Message

When the gNodeB receives the preamble allocated to the UE, it schedules the Msg2, which

is the random access response message, to be transmitted on the PDSCH.

Msg2 includes the following information:

- The random access preamble identifier.
- An initial uplink grant for transmitting the subsequent data.
- Time alignment information for subsequent uplink data transmissions. With this information, uplink data transmissions in a specific cell do not interfere with uplink transmissions by UEs in adjacent subframes.
- Temporary C-RNTI. For the CFRA, this field is ignored by the UE.

The reception of Msg2 is successful if the following conditions are met:

- Msg2 is received within the random access response search window.
- Msg2 contains the random access preamble identifier that matches the transmitted random access preamble index.

Based on the information received in Msg2, the UE performs time alignment and connects to

the network.

## 3.6 Feature Operation of Data Transfer

The data transfer function establishes and configures the requested PDU session and its

DRB to send and receive user data on the network.

Related concepts

Feature Operation of Connection Establishment

### 3.6.1 PDU Session Resource Setup Procedure

The Packet Data Unit (PDU) session resource setup procedure enables the setup of a PDU

session and its corresponding DRB to establish the sending and receiving of user data.

The procedure is initiated by the UE in RRC\_CONNECTED mode. The PDU session can be set

up with the PDU session resource setup procedure or during the initial context setup

procedure.

Figure 8   PDU Session Resource Setup Procedure

1. The UE requests a PDU session establishment through the NAS PDU SESSION ESTABLISHMENT REQUEST message.
2. The gNodeB forwards the UE request to the Access and Mobility Management Function (AMF).
3. The AMF allocates the requested PDU session.
4. The AMF sends a NGAP PDU SESSION RESOURCE SETUP REQUEST message including the PDU session information to the gNodeB.
5. The gNodeB allocates the required SRB and DRB resources and establishes the user plane tunnels.
6. The gNodeB sends the RRC RECONFIGURATION message to the UE.
7. The UE sends the RRC RECONFIGURATION COMPLETE message to the gNodeB.
8. The gNodeB sends the NGAP PDU SESSION RESOURCE SETUP RESPONSE message to the AMF.

The network is ready to send and receive user data.

### 3.6.2 Inactivity Supervision

In NR standalone, a configurable user plane inactivity timer is configured during the

initial context setup procedure. When the timer elapses, the

Packet Data Unit (PDU) session resource release procedure is triggered.

Figure 9   Inactivity Supervision

1. The InactivityProfileUeCfg.tInactivityTimer timer expires.
2. The gNodeB sends the NGAP UE CONTEXT RELEASE REQUEST message to the Access and Mobility Management Function (AMF).
3. The AMF sends the NGAP UE CONTEXT RELEASE COMMAND message to the gNodeB.
4. The gNodeB sends the RRC RELEASE message to the UE.
5. The gNodeB releases the UE context.
6. The gNodeB responds with a NGAP UE CONTEXT RELEASE COMPLETE message to the AMF.

### 3.6.3 Network RLF Detection

The gNodeB supports the network-detected RLF based on the maximum number of downlink RLC

transmission reached for DRB or SRB.

Figure 10   Network RLF Detection

1. If the NR RRC Connection Re-establishment feature is configured, a timer is started in the gNodeB to wait for the UE to send a request for the RRC Connection Re-establishment procedure. If the UE sends the RRCReestablishmentRequest message before the timer expires, the UE context is kept and the RRC Connection Re-establishment procedure is performed. If the timer expires without the UE sending the RRCReestablishmentRequest message to the gNodeB, the UE context is released.
2. The gNodeB sends a NGAP UE CONTEXT RELEASE REQUEST message to the AMF.
3. The AMF sends the NGAP UE CONTEXT RELEASE COMMAND message.
4. The gNodeB responds with the NGAP UE CONTEXT RELEASE COMPLETE message to the AMF.
5. The gNodeB releases the UE context.

### 3.6.4 PDU Session Resource Modify Procedure

The following changes can be applied to an already established Packet Data Unit (PDU)

session during the PDU Session Resource Modify procedure:

- Setting up new QoS flows
- Releasing QoS flows
- Modifying the QoS properties of established QoS flows

Figure 11   PDU Session Resource Modify Procedure

1. The Access and Mobility Management Function (AMF) sends the NGAP PDU SESSION RESOURCE MODIFY REQUEST message that includes the PDU session information to the gNodeB.
2. The gNodeB validates and applies the modification of the QoS properties of the QoS flows in the PDU session.
3. The gNodeB sends the RRC RECONFIGURATION message to the UE. The message contains the modified values of the QoS properties of the used DRBs.
4. The UE sends the RRC RECONFIGURATION COMPLETE message to the gNodeB to the modification of the QoS properties of the used DRBs.
5. The gNodeB sends the NGAP PDU SESSION RESOURCE MODIFY RESPONSE message to the AMF.
6. The UE sends the NAS PDU SESSION MODIFICATION COMPLETE message to the AMF.

### 3.6.5 PDU Session Resource Release Procedure

If the last QoS flow and the related DRB of a PDU session are released, the AMF starts

the PDU Session Resource Release procedure and sends the PDU SESSION RESOURCE

RELEASE COMMAND message to the gNodeB. If all PDU sessions are requested to

be released, the UE is released.

### 3.6.6 Exceeding System Limits

The number of DRBs for each Packet Data Unit (PDU) session is limited to four, and the

number of DRBs for each UE is limited to eight. If this limit is exceeded when new QoS

flows and DRBs are to be established, the gNodeB rejects the establishment of the

additional QoS flow in the PDU session. The gNodeB then sends the PDU SESSION

RESOURCE MODIFY RESPONSE message to the Access and Mobility Management

Function (AMF) with the rejected flows in the failure list.

## 3.7 TCP Optimization in NR Standalone

TCP optimization provides reduced queuing delay in the user plane traffic in an NR SA

deployment to improve end user performance. For TCP optimization in NR SA, AQM is used

in the Radio Link Control (RLC) buffer in the gNodeB if the RLC buffer includes at least

5 RLC SDUs.

The AQM mode is set through the AqmCfg.aqmMode attribute under the

GNBDUFunction MO class and can be one of the following:

## 3.8 High Power UE Support

The High Power UE Support in NR function only supports UEs with a maximum power volume

that is higher than the default power class (23 dBm), which are power class 2 (26 dBm)

and power class 1.5 (29 dBm). This way, uplink coverage and uplink edge throughput are

increased. The function is supported for power class 2 and power class 1.5 UEs in

Mid-Band frequencies and power class 2 UEs in Low-Band frequencies in connected mode and

idle mode.

The function allows a maximum of power class 1.5 of transmission power for high-power

UEs. The PCell must support high power to use the functionality.

High power UEs support inter-frequency and inter-RAT mobility within, as well as to and

from the cell with high power support.

The high power UE support for mobility function provides the following benefits:

- Uplink coverage can be extended by using offsets to configure the RSRP measurement thresholds for the A1, A2, A5, and B2 events during inter-frequency and inter-RAT mobility. Note: This offset also applies to the threshold used when additional target evaluation of the reported RSRP is configured for the A5 measurement report of the Mobility Control at Poor Coverage function.
- High power UEs can stay longer on PCells with high power support.
- High power UEs have more opportunity to move toward neighbor cells that support high power on different frequency bands.

Related concepts

High Power UE Support in NR SA Configuration

Related Information

Manage Mobility NR

NR Mobility

NR Traffic Steering

## 3.9 Configuration of Handover Procedure Supervision Timers

Handover procedures on the NG and Xn interfaces can be supervised through

configurable timers.

The NG and Xn handover procedures used by the NR Standalone feature are

time-supervised.

For more information on timers used to supervise NG and Xn handover procedures, see NR Mobility.

3.3Feature Operation of Connection Establishment

# 4 Network Impact of NR Standalone

Capacity and Performance

| Low-Band   |    | The NR cell can process 100 accesses per second, or one PRACH occurrence                             in each frame.   |
|------------|----|-----------------------------------------------------------------------------------------------------------------------|
|            |    |                                                                                                                       |
| Mid-Band   |    | The NR cell can process 100 accesses per second, or one PRACH occurrence                             in each frame.   |

Interfaces

The NR Standalone feature introduces the NG-U and NG-C interfaces.

The NR Standalone feature introduces the following messages on the NG-C

interface:

- NGAP PDU SESSION RESOURCE SETUP REQUEST
- NGAP PDU SESSION RESOURCE SETUP RESPONSE
- NGAP PDU SESSION RESOURCE MODIFY REQUEST
- NGAP PDU SESSION RESOURCE MODIFY RESPONSE
- NGAP INITIAL UE MESSAGE
- NGAP DOWNLINK NAS TRANSPORT
- NGAP UPLINK NAS TRANSPORT
- NGAP INITIAL CONTEXT SETUP REQUEST
- NGAP INITIAL CONTEXT SETUP RESPONSE
- NGAP INITIAL CONTEXT SETUP FAILURE
- NGAP NAS NON DELIVERY INDICATION
- NGAP PAGING
- NGAP UE RADIO CAPABILITY INFO INDICATION

The feature introduces the following RRC messages on the Uu interface:

- RRC RECONFIGURATION
- RRC RECONFIGURATION COMPLETE
- RRC UPLINK INFORMATION TRANSFER
- RRC DOWNLINK INFORMATION TRANSFER
- RRC UE CAPABILITY ENQUIRY
- RRC UE CAPABILITY INFORMATION
- RRC SECURITY MODE COMMAND
- RRC SECURITY MODE COMPLETE
- RRC SECURITY MODE FAILURE
- RRC SETUP REQUEST
- RRC SETUP
- RRC SETUP COMPLETE

Other Network Elements

This feature requires a 5G Core network.

This feature requires an NR SA-compliant UE.

4Network Impact of NR Standalone

# 5 Parameters for NR Standalone

Random access parameters are introduced for the preamble message. Data transfer affects

parameters for timers and integrity algorithms.

Table 11   Parameters

| Parameter                                         | Type       | Description                                                                                                                                                              |
|---------------------------------------------------|------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AqmCfg.aqmMode                                    | Introduced | See MOM description.                                                                                                                                                     |
| AqmCfg.estimatedE2ERTT                            | Introduced | See MOM description.                                                                                                                                                     |
| AqmCfg.tDiscardDl                                 | Introduced | See MOM description.                                                                                                                                                     |
| McpcPCellProfileUeCfg.rsrpCandidateA5PcOffset     | Introduced | See MOM description.                                                                                                                                                     |
| McpcPCellProfileUeCfg.rsrpCriticalPcOffset        | Introduced | See MOM description.                                                                                                                                                     |
| McpcPCellProfileUeCfg.rsrpSearchZonePcOffset      | Introduced | See MOM description.                                                                                                                                                     |
| McpcPCellProfileUeCfg.rsrpCandidateB2PcOffset     | Introduced | See MOM description.                                                                                                                                                     |
| TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.rachPreambleRecTargetPower               | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.rachPreambleTransMax                     | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.rachRootSequence                         | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.cellRange                                | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.rachPreambleFormat                       | Introduced | See MOM description.                                                                                                                                                     |
| Paging.defaultPagingCycle                         | Introduced | See MOM description.                                                                                                                                                     |
| Paging.n                                          | Introduced | See MOM description.                                                                                                                                                     |
| Paging.nS                                         | Introduced | See MOM description.                                                                                                                                                     |
| SecurityHandling.integrityProtectAlgoPrio         | Introduced | See MOM description.                                                                                                                                                     |
| Rrc.t300                                          | Introduced | See MOM description.                                                                                                                                                     |
| CUCP5qi.profile5qi                                | Affecting  | See MOM description.                                                                                                                                                     |
| CUUP5qi.profile5qi                                | Affecting  | See MOM description.                                                                                                                                                     |
| DU5qi.profile5qi                                  | Affecting  | See MOM description.                                                                                                                                                     |
| LocalSctpEndpoint.sctpEndpointRef                 | Affecting  | See MOM description.                                                                                                                                                     |
| LocalIpEndpoint.addressRef                        | Affecting  | The NG and F1 interfaces must be added to the                                     LocalIpEndpoint.interfaceList list in any                                 combination. |
| Paging.pagingDiscardTimer                         | Affecting  | The attribute determines how long paging messages are retained before                                 being discarded.                                                   |
| SecurityHandling.cipheringAlgoPrio                | Affected   | See MOM description.                                                                                                                                                     |
| LocalDnsEndpoint.interfaceUsed                    | Introduced | See MOM description.                                                                                                                                                     |
| LocalDnsEndpoint.dnsClientRef                     | Introduced | See MOM description.                                                                                                                                                     |
| LocalDnsEndpoint.localDnsEndpointId               | Introduced | See MOM description.                                                                                                                                                     |
| GNBCUCPFunction.dnsLookupOn5GsTai                 | Introduced | See MOM description.                                                                                                                                                     |
| GNBCUCPFunction.dnsLookup5GsTaiPeriodicTimer      | Introduced | See MOM description.                                                                                                                                                     |
| TermPointToAmf.isRemoveAllowed                    | Introduced | See MOM description.                                                                                                                                                     |
| NRCellCU.robustUeCapEnquiryMode                   | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.prachConfigIndex                         | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.noOfCbraPreambles                        | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.totalNoOfRaPreambles                     | Introduced | See MOM description.                                                                                                                                                     |
| NRCellDU.cfraEnabled                              | Introduced | See MOM description.                                                                                                                                                     |
| RachUeCfg.cfraEnabled                             | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrpBetterPCellEnabled   | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrpBetterPCell          | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrpCriticalEnabled      | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrpCritical             | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrpCriticalPcOffset     | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrqCriticalEnabled      | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.rsrqCritical             | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.sinrCriticalEnabled      | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.sinrCritical             | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfgâ.prefUeGroupList         | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfg.âueGroupList             | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileUeCfgâ.ueConfGroupList         | Introduced | See MOM description.                                                                                                                                                     |
| UeNoDrbPCellProfileâ.ueConfGroupType              | Introduced | See MOM description.                                                                                                                                                     |
| NRCellCUâ.ueNoDrbPCellProfileRefâ                 | Introduced | See MOM description.                                                                                                                                                     |

5Parameters for NR Standalone

# 6 Performance of NR Standalone

KPIs

The table lists the main Key Performance Indicators (KPIs) associated with the

feature, and the expected impact.

Table 12   Key Performance Indicators

| Key Performance Indicators                                                                                                                                                                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DRB Accessibility - Success Rate for mapped 5QI                                                                                                                                                                  | Accessibility success rate for end-user services that are carried                                     by DRBs.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| DRB Retainability - Percentage of Active Lost per mapped 5QI                                     without outgoing inter-gNodeB HO UEs 24.Q4 and later                                                            | Percentage of established NR connections lost with abnormal                                     release for UEs in NR-DC or NR standalone deployments.  This KPI might decrease if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| DRB Retainability - Percentage of Active Lost per mapped 5QI                                     without outgoing inter-gNodeB HO UEs, gNodeB triggered only                                     24.Q4 and later | Percentage of established NR connections for UEs in NR-DC or NR                                     standalone deployments that are lost with abnormal release,                                     initiated by gNodeB only.  This KPI might decrease if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| UL Packet Loss Captured in gNodeB                                     normalized with out of order PDU delivered                                                                                                 | Uplink packet loss is monitored for both NR SA and EN-DC UEs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Average DL MAC DRB Throughput                                                                                                                                                                                    | Measures DRB downlink throughput impact on end user.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Average UL MAC UE Throughput                                                                                                                                                                                     | Measures Uplink MAC UE throughput impact on end user.   This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| DL MAC DRB Throughput per QoS                                                                                                                                                                                    | Shows DRB downlink throughput for data bursts restricted by air                                     interface for each QoS class, such as 5QI or QCI.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Random Access Success Rate Captured in                                     gNodeB                                                                                                                                | Describes how often a random access Msg3 is detected after a                                     random access Msg2 transmission for CBRA.  This KPI might degrade under the following conditions:  The number of the configured CBRA preambles remains                                                 the same after CFRA is enabled.     The number of the configured CBRA preambles increases                                                 after CFRA is enabled.    The number of the configured CBRA preambles is reduced                                             after CFRA is enabled and the ratio of this reduction is                                             less than the ratio of the reduction of the total number                                             of detected CBRA preambles.    This KPI might increase if the High Power UE Support in NR                                     function is enabled. |
| Random Access Success Rate Captured in                                     gNodeB for CFRA                                                                                                                       | Describes the frequency of detecting a PUSCH, which is initially                                     scheduled by an uplink grant in the random access Msg2                                     message.  If CFRA is enabled in the cell, this KPI might increase compared                                     to the Random Access Success Rate Captured in gNodeB KPI in                                     similar radio conditions.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                               |
| UE Context Setup Success Rate                                                                                                                                                                                    | Measures the success rate of UE context setups.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| NR Handover success rate captured in source gNodeB                                                                                                                                                               | Measures cell handover performance in NR standalone in source                                     gNodeB.  This KPI might increase if the High Power UE Support in NR                                     function is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| NR-to-LTE Inter-RAT Handover success rate captured in source                                     gNodeB                                                                                                          | Measures NR-to-LTE inter-RAT handover performance in source                                     gNodeB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

For the full list of KPIs, see Key Performance Indicators.

PIs

Table 13   Performance Indicators

| PI                                           | Formula                                                                                                      | Description                                                                                                                                                                                                               |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Random Access Msg1 Success Rate for CFRA     | 100 Ã (NRCellDU.pmRadioRaCfAttMsg2 /                                         NRCellDU.pmRadioRaCfPreambles)  | This PI shows how often a detected random access preamble results                                     in a successfully allocated random access Msg2 in downlink.                                                         |
| Random Access Msg1 Success Rate for CBRA     | 100 Ã (NRCellDU.pmRadioRaCbAttMsg2 /                                         NRCellDU.pmRadioRaCbPreambles)  | This PI shows how often a detected random access preamble results                                     in a successfully allocated random access Msg2 in downlink.  If CFRA is enabled in the cell, this PI might degrade. |
| Random Access Performance Indicator for CFRA | 100 Ã (NRCellDU.pmRadioRaCfSucc /                                         NRCellDU.pmRadioRaCfPreambles)     | This PI shows the performance of the successful random access                                     procedures.                                                                                                             |
| Random Access Performance Indicator for CBRA | 100 Ã (NRCellDU.pmRadioRaCbSuccMsg3 /                                         NRCellDU.pmRadioRaCbPreambles) | This PI shows the performance of the successful random access                                     procedures.  If CFRA is enabled in the cell, this PI might degrade.                                                     |

| RRC Establishment Success Rate     |    | 100 Ã (pmRrcConnEstabSucc / (pmRrcConnEstabAtt â                             pmRrcConnEstabAttReatt))          |
|------------------------------------|----|----------------------------------------------------------------------------------------------------------------|
|                                    |    |                                                                                                                |
| RRC Establishment Success Rate MOS |    | 100 Ã (pmRrcConnEstabSuccMos / (pmRrcConnEstabAttMos â                             pmRrcConnEstabAttReattMos)) |

Counters

- NRCellDU.pmRadioRaAttTaDistr
- NRCellDU.pmRadioRaCbPreambles
- NRCellDU.pmRadioRaCbFailMsg1Ooc
- NRCellDU.pmRadioRaCbAttMsg2
- NRCellDU.pmRadioRaCbFailMsg2Disc
- NRCellDU.pmRadioRaCbSuccMsg3
- NRCellDU.pmRadioRaCbFailMsg3Crnti
- NRCellDU.pmRadioRaCbFailMsg3Crc
- NRCellDU.pmRadioRaCbFailMsg1MaxMsg3Sched
- NRCellDU.pmRadioRaCbFailMsg3Dtx
- NRCellCU.pmRrcConnEstabAtt
- NRCellCU.pmRrcConnEstabSucc
- NRCellCU.pmRrcConnEstabAttMos
- NRCellCU.pmRrcConnEstabSuccMos
- NRCellCU.pmRrcConnEstabAttReatt
- NRCellCU.pmRrcConnEstabAttReattMos
- GNBCUCPFunction.pmPagNgReceived
- GNBCUCPFunction.pmPagNgDiscarded
- GNBDUFunction.pmPagF1Received
- GNBDUFunction.pmPagF1Discarded
- NRCellDU.pmMacVolUlResUe
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmRadioRecInterferencePowerDistr
- NRCellDU.pmPagReceived
- NRCellDU.pmPagDiscarded
- NRCellDU.pmPagBundledUeDistr
- NRCellDU.pmPagBundledUeSampDistr
- NRCellCU.pmDrbEstabAtt5qi
- NRCellCU.pmDrbEstabSucc5qi
- NRCellCU.pmDrbRelNormal5qi
- NRCellCU.pmDrbRelAbnormalGnb5qi
- NRCellCU.pmDrbRelAbnormalAmf5qi
- NRCellCU.pmEndcRelUeAbnormalSgnb
- NRCellCU.pmEndcRelUeAbnormalSgnbAct
- NRCellCU.pmPduSessionEstabAtt
- NRCellCU.pmPduSessionEstabSucc
- NRCellCU.pmPduSessionRelNormal
- NRCellCU.pmPduSessionRelAbnormalGnb
- NRCellCU.pmPduSessionRelAbnormalAmf
- NRCellCU.pmPduSessionModifyAtt
- NRCellCU.pmPduSessionModifySucc
- NRCellCU.pmUeCtxtEstabAtt
- NRCellCU.pmUeCtxtEstabSucc
- NRCellCU.pmUeCtxtRelNormal
- NRCellCU.pmUeCtxtRelAbnormalGnb
- NRCellCU.pmUeCtxtRelAbnormalAmf
- EP\_NgU.pmPdcpPktRecDl5qi
- EP\_NgU.pmPdcpPktRecDlDisc5qi
- EP\_NgU.pmPdcpPktRecDlDiscAqm5qi
- EP\_NgU.pmPdcpPktTransUl5qi
- EP\_NgU.pmPdcpVolTransUl5qi
- GNBCUUPFunction.pmPdcpPktDiscNoCtxt
- RpUserPlaneLink.pmPdcpPktLossUlQos
- RpUserPlaneLink.pmPdcpPktLossUlToQos
- RpUserPlaneLink.pmPdcpPktLossUlToDiscQos
- RpUserPlaneLink.pmPdcpPktRecUlQos
- RpUserPlaneLink.pmPdcpPktRecUlOooQos
- RpUserPlaneLink.pmPdcpPktTransDlQos
- RpUserPlaneLink.pmPdcpPktTransDlAckQos
- RpUserPlaneLink.pmPdcpPktTransDlDiscQos
- RpUserPlaneLink.pmPdcpPktTransDlDiscAqmQos
- RpUserPlaneLink.pmPdcpVolRecUlQos
- RpUserPlaneLink.pmPdcpVolTransDlQos
- NRCellCU.pmNgSigConnEstabAtt
- NRCellCU.pmNgSigConnEstabAttMos
- NRCellCU.pmNgSigConnEstabSucc
- NRCellCU.pmNgSigConnEstabSuccMos
- NRCellDU.pmRadioRaCfPreambles
- NRCellDU.pmRadioRaCfAttMsg2
- NRCellDU.pmRadioRaCfSucc
- NRCellCU.pmRadioRaCfFailMsg1Ooc
- NRCellCU.pmRadioRaCfFailMsg1DiscSched
- NRCellCU.pmRadioRaCfFailMsg2Disc
- NRCellCU.pmRadioRaCfUnassignedFalse
- NRCellCU.pmRadioRaCfPreambleFailedDistr
- NRCellCU.pmRadioRaCfPreambleUnusedDistr
- NRCellCU.pmRadioRaSuccTaRelDistr
- NRCellCU.pmRadioRaSuccTaAbsDistr
- NRCellDU.pmPagReceivedRan
- NRCellDU.pmPagDiscardedRan

The NRCellDU.pmMacPduVolDlUePCell PM counter can

be used to measure the downlink MAC PDU volume in the PCell for each UE.

The following flexible EBS counters are associated with the feature:

- pmEbsDrbEstabAtt5qi
- pmEbsDrbEstabAttLsm5qi
- pmEbsDrbEstabSucc5qi
- pmEbsDrbEstabSuccLsm5qi
- pmEbsPduSessionEstabAtt
- pmEbsPduSessionEstabSucc
- pmEbsUeCtxtEstabAtt
- pmEbsUeCtxtEstabLatDistr
- pmEbsUeCtxtEstabSucc
- pmEbsDrbEstabAttInit5qi
- pmEbsDrbEstabSuccInit5qi
- pmEbsPduSessionModifyAtt
- pmEbsPduSessionModifySucc
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeAttOutDrbEutran
- pmEbsHoExeAttOutDrbInterGnb
- pmEbsHoExeAttOutDrbIntraGnb
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeSuccOutDrbEutran
- pmEbsHoExeSuccOutDrbIntraGnb
- pmEbsHoExeSuccOutDrbInterGnb
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeAttIntraCell
- pmEbsHoExeSuccIntraCell
- pmEbsHoPrepAttIntraCell
- pmEbsHoPrepSuccIntraCell
- pmEbsRadioRaCfPreambles
- pmEbsRadioRaCfAttMsg2
- pmEbsRadioRaCfSucc
- pmEbsHoExeSuccInEutran
- pmEbsHoExeAttInEutran
- pmEbsHoPrepSuccInEutran
- pmEbsHoPrepAttInEutran
- pmEbsHoExeSuccInIntraGnbCfra
- pmEbsHoExeAttInIntraGnbCfra
- pmEbsHoPrepAttInIntraGnbFbCbra
- pmEbsHoPrepSuccInIntraGnbCfra
- pmEbsHoPrepAttInIntraGnbCfra
- pmEbsHoExeSuccInInterGnbCfra
- pmEbsHoExeAttInInterGnbCfra
- pmEbsHoPrepAttInInterGnbFbCbra
- pmEbsHoPrepSuccInInterGnbCfra
- pmEbsHoPrepAttInInterGnbCfra
- pmEbsHoExeSuccInIntraGnb
- pmEbsHoExeAttInIntraGnb
- pmEbsHoPrepSuccInIntraGnb
- pmEbsHoPrepAttInIntraGnb
- pmEbsHoExeSuccInInterGnb
- pmEbsHoExeAttInInterGnb
- pmEbsHoIntTimeCpInterGnbNgCfraDistr
- pmEbsHoIntTimeCpInterGnbXnCfraDistr
- pmEbsHoIntTimeCpIntraGnbCfraDistr
- pmEbsHoIntTimeCpInterGnbNgCbraDistr
- pmEbsHoIntTimeCpInterGnbXnCbraDistr
- pmEbsHoIntTimeCpIntraGnbCbraDistr
- pmEbsHoIntTimeCpDrbInterGnbMax
- pmEbsHoIntTimeCpDrbIntraGnbMax

The NRCellDU.pmEbsnMacPduVolDlUePCell EBS counter

can be used to measure the downlink MAC PDU volume in the PCell for each UE. This

EBS counter can be filtered on any combination of available filters, for example, to

show the downlink MAC PDU volume for each Serving PLMN in the PCell.

The

pmEbsRwrEutranUeSuccUeCapFail

EBS counter can be used to monitor the feature.

The EBS counters are associated with the NRCellCU,

NRCellDU, NRCellRelation, and

EUtranCellRelation MOs. For more information on EBS

counters associated with the feature, see Lists and Delta Lists.

Events

- CuCpProcRrcEstab The time\_stamp\_stop event parameter is used when the following events happen: Either the RRC SETUP COMPLETE message or the RRC REJECT message arrives in RPF. RRC setup procedure timeout. Reattempt is detected with same UE identity in the RRC setup.
- CuCpProcNgSigConnEstab The time\_stamp\_start event parameter shows the time when the NG signaling connection establishment starts. This means that the selection function of the AMF is initiated. In this way, the AMF is selected that sends the NGAP INITIAL UE message. The time\_stamp\_stop event parameter shows the time when the NG signaling connection establishment ends. It can occur in the following cases: Receiving the first message on a UE-associated NG connection Timeout
- CuCpProcUeCtxtRel The time\_stamp\_start event parameter shows the time when the UE context release is initiated either by the gNodeB or by the AMF.
- CuCpRrcSetupRequest
- CuCpRrcSetup
- CuCpRrcSetupComplete
- CuCpRrcReject
- CuCpRrcRelease
- CuCpNgPaging
- CuCpRrcUeCapabilityEnquiry
- CuCpRrcUeCapabilityInformation
- CuCpRrcDlInformationTransfer
- CuCpRrcUlInformationTransfer
- CuCpNgInitialUeMessage
- CuCpNgInitialContextSetupRequest
- CuCpNgInitialContextSetupResponse
- CuCpNgInitialContextSetupFailure
- CuCpNgUeRadioCapabilityInfoIndication
- CuCpNgDownlinkNasTransport
- CuCpNgUplinkNasTransport
- CuCpNgUeContextReleaseRequest
- CuCpNgUeContextReleaseCommand
- CuCpNgUeContextReleaseComplete
- CuCpNgReset
- CuCpNgResetAcknowledge
- CuCpNgErrorIndicationCommon
- CuCpNgErrorIndicationDedicated
- CuCpProcInitialCtxtEstab
- CuCpRrcSecurityModeCommand
- CuCpRrcSecurityModeComplete
- CuCpRrcSecurityModeFailure
- CuCpRrcReconfiguration
- CuCpRrcReconfigurationComplete
- CuCpNgPduSessionResourceSetupRequest
- CuCpNgPduSessionResourceSetupResponse
- CuCpNgNasNonDeliveryIndication
- CuCpProcPduSessionResourceSetup
- CuCpProcPduSessionResourceModify
- DuPerUeTrafficRep
- DuPerUeRbTrafficRep
- DuPerRadioCellMeasurement
- CuCpProcNrHoPrepIn
- CuCpProcNrHoExeIn
- CuCpProcNrHoExeOut
- CuCpProcNrHoIcPrep
- CuCpProcNrHoIcExe
- DuProcUeContextSetup Monitors the F1AP UE context setup procedure.
- DuProcUeContextModification Monitors the F1AP UE context modification procedure.
- DuProcUeContextRelease Monitors the F1AP UE context release procedure.
- CuCpProcFqdnDnslookup Monitors the DNS lookup procedure of NAPTR DNS query type for resolving the FQDN.
- CuCpProcIpAddressDnslookup Monitors the DNS lookup procedure of A or AAAA DNS query types for resolving IP addresses.
- CuCpAmfAutoCreate Monitors automatic TermPointToAmf creation based on DNS Lookup on 5GS TAI.
- CuCpAmfAutoDelete Monitors automatic TermPointToAmf deletion based on DNS Lookup on 5GS TAI.

6Performance of NR Standalone

# 7 Activate Non-License-Controlled Features

Non-license-controlled features do not require manual activation and cannot be

deactivated.

While license-controlled features need to be activated, non-license-controlled features

are activated automatically during node integration. They also do not

have

a software license key associated, which means that they have no

entries in the LKF that is installed on the node.

In some cases, non-license-controlled features need to be configured

manually or have some of

their

subfunctions enabled to work properly.

## 7.1 Enable Discovery of AMFs via DNS

To enable discovery of AMFs via DNS, do the following:

Prerequisites

Discovery of AMFs via DNS is properly configured. For details, see Discovery of AMFs via DNS Configuration.

Steps

1. Set the GNBCUCPFunction.dnsLookupOn5GsTai attribute to TRUE. The default value is FALSE. In shared RAN, the function is activated for all operators.

## 7.2 Disable Discovery of AMFs via DNS

To disable discovery of AMFs via DNS, do the following:

Prerequisites

- Discovery of AMFs via DNS is enabled.

Steps

1. Set the GNBCUCPFunction.dnsLookupOn5GsTai attribute to FALSE.

# 8 Engineering Guidelines for NR Standalone

## 8.1 Configure NG-C Interface Termination Point between gNodeB and the Core Network

Steps

1. Create the SctpEndpoint MO.
2. Set the local port number for SCTP endpoint in the SctpEndpoint.portNumber attribute to 38412.
3. Create the GNBCUCPFunction MO.
    1. Configure the GNBCUCPFunction.gNBId attribute with gNodeB identity.
    2. Configure the NRCellDU.pLMNIdList attribute with the applicable PLMN identity, so that the GNBCUCPFunction.pLMNId attribute contains the actual value.
4. Create the LocalSctpEndpoint MO under the EndpointResource MO that is referred by GNBCUCPFuntion.endpointResourceRef attribute.
5. Set the LocalSctpEndpoint.interfaceUsed attribute to NG.
6. Set the LocalSctpEndpoint.sctpEndpointRef attribute to an instance of the SctpEndpoint MO.
7. Create the TermPointToAmf MO.
8. Set the primary and secondary IP addresses of the Access and Mobility Management Function (AMF) of the 5GC under the TermPointToAmf MO based on the IP protocol they use. The TermPointToAmf.ipv4Address1 attribute represents the primary IPv4 AMF address, while the TermPointToAmf.ipv4Address2 attribute represents the secondary IPv4 AMF address. The TermPointToAmf.ipv6Address1 attribute represents the primary IPv6 AMF address, while the TermPointToAmf.ipv6Address2 attribute represents the secondary IPv6 AMF address. Configure the IP addresses in one of the following ways: IP Address Version Configurable Attribute IPv4 address TermPointToAmf.ipv4Address1 and TermPointToAmf.ipv4Address2 IPv6 address TermPointToAmf.ipv6Address1 and TermPointToAmf.ipv6Address2

Results

The TermPointToAmf MO is defined with the AMF IP address.

An NG-C connection for the NG-C setup procedure exists between the gNodeB

and the AMF in the 5GC.

Related Information

3GPP TS 38.412, NG-RAN; NG signalling transport, Release 15, 7

## 8.2 PLMN Service Is Unavailable Because of NG-C Link Break

The gNodeB and the Access and Mobility Management Function (AMF)

of the 5C are connected by an NG-C link. If all NG-C links for a specific PLMN break,

the gNodeB loses connection to all AMFs supporting the PLMN, and

the PLMN service becomes unavailable.

If the PLMN service is not available because all NG-C links for a specific PLMN break,

the PLMN Service Unavailable alarm is raised with the additional

text indicating the PLMN with unavailable service.

## 8.3 Cell Range and Root Sequence Index Settings

The RRC configuration of the UE involves the setting of the

prach-RootSequenceIndex and the

zeroCorrelationZoneConfig attributes. For the settings of these

parameters defined in 3GPP, see 3GPP TS 38.211; NR; Physical Channels and

Modulation.

The NRCellDU.rachRootSequence attribute configures the value of the

prach-RootSequenceIndex attribute and

zeroCorrelationZoneConfig is set by the gNodeB.

### 8.3.1 Cell Range Configuration in Low-Band

The NRCellDU.rachRootSequence attribute configures the value of the

first

prach-RootSequenceIndex

for RACH in the cell. PRACH resources overlap in the network. It is recommended to set

the NRCellDU.rachRootSequence attribute to different values in

neighboring cells to reduce the probability of false RACH detections. Different

preambles can be defined for different cells with the

NRCellDU.rachPreambleFormat attribute.

The number of required RACH root sequences in each cell

depends on the cell range and the total number of RACH preambles set for the cell. The

NRCellDU.cellRange attribute is used to set the cell range unless

it is done automatically. The NRCellDU.totalNoOfRaPreambles attribute

is used to set the total number of RACH preambles for the cell unless it is done

automatically.

NRCellDU.pmRadioRaCbFailMsg1Ooc Counter Range

Calculation

The NRCellDU.pmRadioRaCbFailMsg1Ooc counter measures the number of

CBRA preambles that are discarded because the timing offset of the preambles

corresponds to a distance that is greater than the configured cell range. This

observable distance is limited and depends on

zeroCorrelationZoneConfig, which controls the NCS

cyclic shift value used for the random access preamble generation. For more

information, see Section 6.3.3 in 3GPP TS 38.211 version 16.6.0.

The appropriate value of zeroCorrelationZoneConfig is selected

automatically for the configured cell range. Each value of

zeroCorrelationZoneConfig has a corresponding maximum cell

range, and this is the maximum observable distance of the counter for the given

configuration. The maximum observable distance of the counters is the closest bigger

maximum cell range value to the configured cell range. The timing offset TA of the

preamble can only be correctly calculated if the UE is in the observable

distance.

Unrestricted Set of Cyclic Preamble Shifts

The NR system applies the unrestricted set of cyclic shifts for preambles.

The number of required RACH root sequences for a cell can be calculated using the

following equation:

Where Preambles for each RACH Root Sequences is the number of preambles that can be

created by one RACH root sequence for a given cell range and RACH format. For the

applicable values, see Table 14.

Table 14   Example Configuration for Cell Range and Number of RACH Root Sequences for

Low-Band, Unrestricted Set

| Preamble Format  (1)   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Preambles for Each RACH Root Sequences |
|------------------------|--------------------------------------|-------------|------------------|------------------------------------------|
| B4                     |                                    1 |           2 | < 91(2)          |                                       64 |
| B4                     |                                    2 |           4 | 91â230(2)        |                                       34 |
| B4                     |                                    3 |           6 | 231â340          |                                       23 |
| B4                     |                                    4 |           8 | 341â480          |                                       17 |
| B4                     |                                    5 |          10 | 481â630          |                                       13 |
| B4                     |                                    6 |          12 | 631â770          |                                       11 |
| B4                     |                                    7 |          13 | 771â840          |                                       10 |
| B4                     |                                    8 |          15 | 841â990          |                                        9 |
| B4                     |                                    9 |          17 | 991â1,130        |                                        8 |
| B4                     |                                   10 |          19 | 1,131â1,270      |                                        7 |
| B4                     |                                   11 |          23 | 1,271â1,560      |                                        6 |
| B4                     |                                   12 |          27 | 1,561â1,850      |                                        5 |
| B4                     |                                   13 |          34 | 1,851â2,350      |                                        4 |
| B4                     |                                   14 |          46 | 2,351â3,320      |                                        3 |
| B4                     |                                   15 |          69 | 3,321â4,870      |                                        2 |
| B4                     |                                    0 |           0 | 4,871â10,000     |                                        1 |
| 0                      |                                    1 |          13 | < 1,701          |                                       64 |
| 0                      |                                    2 |          15 | 1,701â1,980      |                                       55 |
| 0                      |                                    3 |          18 | 1,981â2,410      |                                       46 |
| 0                      |                                    4 |          22 | 2,411â2,980      |                                       38 |
| 0                      |                                    5 |          26 | 2,981â3,560      |                                       32 |
| 0                      |                                    6 |          32 | 3,561â4,410      |                                       26 |
| 0                      |                                    7 |          38 | 4,411â5,270      |                                       22 |
| 0                      |                                    8 |          46 | 5,271â6,420      |                                       18 |
| 0                      |                                    9 |          59 | 6,421â8,280      |                                       14 |
| 0                      |                                   10 |          76 | 8,281â10,710     |                                       11 |
| 0                      |                                   11 |          93 | 10,711â13,140    |                                        9 |
| 0                      |                                   12 |         119 | 13,141â16,860    |                                        7 |
| 0                      |                                   13 |         167 | 16,861â23,720    |                                        5 |
| 0                      |                                   14 |         279 | 23,721â39,740    |                                        3 |
| 0                      |                                   15 |         419 | 39,741â59,770    |                                        2 |
| 1                      |                                    1 |          13 | < 1,701          |                                       64 |
| 1                      |                                    2 |          15 | 1,701â1,980      |                                       55 |
| 1                      |                                    3 |          18 | 1,981â2,410      |                                       46 |
| 1                      |                                    4 |          22 | 2,411â2,980      |                                       38 |
| 1                      |                                    5 |          26 | 2,981â3,560      |                                       32 |
| 1                      |                                    6 |          32 | 3,561â4,410      |                                       26 |
| 1                      |                                    7 |          38 | 4,411â5,270      |                                       22 |
| 1                      |                                    8 |          46 | 5,271â6,420      |                                       18 |
| 1                      |                                    9 |          59 | 6,421â8,280      |                                       14 |
| 1                      |                                   10 |          76 | 8,281â10,710     |                                       11 |
| 1                      |                                   11 |          93 | 10,711â13,140    |                                        9 |
| 1                      |                                   12 |         119 | 13,141â16,860    |                                        7 |
| 1                      |                                   13 |         167 | 16,861â23,720    |                                        5 |
| 1                      |                                   14 |         279 | 23,721â39,740    |                                        3 |
| 1                      |                                   15 |         419 | 39,741â59,770    |                                        2 |
| 1                      |                                    0 |           0 | 59,771â100,000   |                                        1 |

(1)

The number of preambles for each RACH root sequences in each

cell depends on the cell range and the RACH Format B4 is the

default preamble format. For supported Low-Band formats, see

Feature Operation in Coverage Extension Low-Band.

(2)

To avoid high levels of false detection with preamble

format B4, it is not recommended to configure a cell

range that is less than 200

m.

Example 1   Cell Range Configuration with Unrestricted Set and a Total Number of 32 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

1,500 in a cell with preamble format B4, Table 14 shows that six preambles can be

created for each RACH root sequence. The number of required RACH root sequences

equals

. Applying the default value of 1 for the

NRCellDU.rachRootSequence attribute means that sequences 1,

2, 3, 4, 5, and 6 are to be used in that cell. The values of the

NRCellDU.rachRootSequence attributes in adjacent cells must

differ by at least 6 (7-12), and 132 (133-137, 0) at most. The reason for this is a

wrap-around between the first and the last value in the value range.

RACH root sequences numerical equation

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

Example 2   Cell Range Configuration with Unrestricted Set and a Total Number of 17 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

4,000 in a cell with format 0, the configured cell range is

between 4,410 m and 3,560 m. This corresponds to 6 as the value of the

zeroCorrelationZoneConfig, with an NCS value of

32. The maximum observable distance is the maximum cell range, 4,410 m. The range of

the NRCellDU.pmRadioRaCbFailMsg1Ooc PM counter is the difference

between 4,410 m and 4,000 m, which is 410 m.

Restricted Set of Cyclic Preamble Shifts

The High Speed UE Low/Mid-Band feature applies the restricted set of cyclic shifts

for preambles. The restricted set is only supported on PRACH preamble format 0 and

PRACH preamble format 1.

With restricted sets, only 16 CBRA preambles can be used, and the number of required

RACH root sequences is shown in Table 15

and Table 16.

Table 15   Cell Range and Number of RACH Root Sequences for Low-Band, Restricted Set

Type A

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
| 0 or 1                  |                                    0 |          15 | < 1,991          |                                                     2 |
| 0 or 1                  |                                    1 |          18 | 1,992â2,420      |                                                     2 |
| 0 or 1                  |                                    2 |          22 | 2,421â2,990      |                                                     3 |
| 0 or 1                  |                                    3 |          26 | 2,991â3,560      |                                                     4 |
| 0 or 1                  |                                    4 |          32 | 3,561â4,420      |                                                     4 |
| 0 or 1                  |                                    5 |          38 | 4,421â5,280      |                                                     4 |
| 0 or 1                  |                                    6 |          46 | 5,281â6,420      |                                                     6 |
| 0 or 1                  |                                    7 |          55 | 6,421â7,710      |                                                     8 |
| 0 or 1                  |                                    8 |          68 | 7,711â9,570      |                                                     8 |
| 0 or 1                  |                                    9 |          82 | 9,571â11,570     |                                                     8 |
| 0 or 1                  |                                   10 |         100 | 11,571â14,150    |                                                    16 |
| 0 or 1                  |                                   11 |         128 | 14,151â18,150    |                                                    16 |
| 0 or 1                  |                                   12 |         158 | 18,151â22,440    |                                                    16 |
| 0 or 1                  |                                   13 |         202 | 22,441â28,740    |                                                    16 |
| 0 or 1                  |                                   14 |         237 | 28,741â33,740    |                                                    16 |

Table 16   Cell Range and Number of RACH Root Sequences for Low-Band, Restricted Set

Type B

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
| 0 or 1                  |                                    0 |          15 | < 1,991          |                                                     4 |
| 0 or 1                  |                                    1 |          18 | 1,992â2,420      |                                                     4 |
| 0 or 1                  |                                    2 |          22 | 2,421â2,990      |                                                     6 |
| 0 or 1                  |                                    3 |          26 | 2,991â3,560      |                                                     6 |
| 0 or 1                  |                                    4 |          32 | 3,561â4,420      |                                                     8 |
| 0 or 1                  |                                    5 |          38 | 4,421â5,280      |                                                     8 |
| 0 or 1                  |                                    6 |          46 | 5,281â6,420      |                                                     8 |
| 0 or 1                  |                                    7 |          55 | 6,421â7,710      |                                                    16 |
| 0 or 1                  |                                    8 |          68 | 7,711â9,570      |                                                    16 |
| 0 or 1                  |                                    9 |          82 | 9,571â11,570     |                                                    16 |
| 0 or 1                  |                                   10 |         100 | 11,571â14,150    |                                                    16 |
| 0 or 1                  |                                   11 |         118 | 14,151â16,720    |                                                    16 |
| 0 or 1                  |                                   12 |         137 | 16,721â19,440    |                                                    16 |

### 8.3.2 Cell Range Configuration in Mid-Band

The NRCellDU.rachRootSequence attribute

configures the value of the first

prach-RootSequenceIndex

for RACH in the cell. PRACH resources overlap in the network. It is recommended to set

the NRCellDU.rachRootSequence attribute to different values in

neighboring cells to reduce the probability of false RACH detections. Different

preambles can be defined for different cells with the

NRCellDU.rachPreambleFormat attribute.

The number of required RACH root sequences in each cell

depends on the cell range and the total number of RACH preambles set for the cell. The

NRCellDU.cellRange attribute is used to set the cell range unless

it is done automatically. The NRCellDU.totalNoOfRaPreambles attribute

is used to set the total number of RACH preambles for the cell unless it is done

automatically.

NRCellDU.pmRadioRaCbFailMsg1Ooc Counter Range

Calculation

The NRCellDU.pmRadioRaCbFailMsg1Ooc counter measures the number of

CBRA preambles that are discarded because the timing offset of the preambles

corresponds to a distance that is greater than the configured cell range. This

observable distance is limited and depends on

zeroCorrelationZoneConfig, which controls the NCS

cyclic shift value used for the random access preamble generation. For more

information, see Section 6.3.3 in 3GPP TS 38.211 version 16.6.0.

The appropriate value of zeroCorrelationZoneConfig is selected

automatically for the configured cell range. Each value of

zeroCorrelationZoneConfig has a corresponding maximum cell

range, and this is the maximum observable distance of the counter for the given

configuration. The maximum observable distance of the counters is the closest bigger

maximum cell range value to the configured cell range. The timing offset TA of the

preamble can only be correctly calculated if the UE is in the observable

distance.

Unrestricted Set of Cyclic Preamble Shifts

The NR system applies the unrestricted set of cyclic shifts for preambles.

The number of required RACH root sequences for a cell can be calculated using the

following equation:

Where Preambles for each RACH Root Sequences is the number of preambles that can be

created by one RACH root sequence for a given cell range and RACH format. For the

applicable values, see Table 17.

Table 17   Example Configuration for Cell Range and

Number of RACH Root Sequences for Mid-Band, Unrestricted Set

| PRACH Preamble Format   |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Preambles for Each RACH Root Sequences |
|-------------------------|--------------------------------------|-------------|------------------|------------------------------------------|
| B4                      |                                    1 |           2 | < 21(1)          |                                       64 |
| B4                      |                                    2 |           4 | 21â90(1)         |                                       34 |
| B4                      |                                    3 |           6 | 91â160           |                                       23 |
| B4                      |                                    4 |           8 | 161â230          |                                       17 |
| B4                      |                                    5 |          10 | 231â300          |                                       13 |
| B4                      |                                    6 |          12 | 301â380          |                                       11 |
| B4                      |                                    7 |          13 | 381â410          |                                       10 |
| B4                      |                                    8 |          15 | 411â480          |                                        9 |
| B4                      |                                    9 |          17 | 481â560          |                                        8 |
| B4                      |                                   10 |          19 | 561â630          |                                        7 |
| B4                      |                                   11 |          23 | 631â770          |                                        6 |
| B4                      |                                   12 |          27 | 771â920          |                                        5 |
| B4                      |                                   13 |          34 | 921â1,170        |                                        4 |
| B4                      |                                   14 |          46 | 1,171â1,600      |                                        3 |
| B4                      |                                   15 |          69 | 1,601â2,430      |                                        2 |
| B4                      |                                    0 |           0 | 2,431â5,000      |                                        1 |
| 0                       |                                    1 |          13 | < 1,701          |                                       64 |
| 0                       |                                    2 |          15 | 1,701â1,980      |                                       55 |
| 0                       |                                    3 |          18 | 1,981â2,410      |                                       46 |
| 0                       |                                    4 |          22 | 2,411â2,980      |                                       38 |
| 0                       |                                    5 |          26 | 2,981â3,560      |                                       32 |
| 0                       |                                    6 |          32 | 3,561â4,410      |                                       26 |
| 0                       |                                    7 |          38 | 4,411â5,270      |                                       22 |
| 0                       |                                    8 |          46 | 5,271â6,420      |                                       18 |
| 0                       |                                    9 |          59 | 6,421â8,280      |                                       14 |
| 0                       |                                   10 |          76 | 8,281â10,710     |                                       11 |
| 0                       |                                   11 |          93 | 10,711â13,140    |                                        9 |
| 0                       |                                   12 |         119 | 13,141â16,860    |                                        7 |
| 0                       |                                   13 |         167 | 16,861â23,720    |                                        5 |
| 0                       |                                   14 |         279 | 23,721â39,740    |                                        3 |
| 0                       |                                   15 |         419 | 39,741â59,770    |                                        2 |
| 0                       |                                    0 |           0 | 59,771â100,000   |                                        1 |

(1)

To avoid high levels of false detection with preamble

format B4, it is not recommended to configure a cell

range that is less than 90

m.

Example 3   Cell Range Configuration with Unrestricted Set and a Total Number of 32 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

750 in a cell with preamble format B4, Table 17 shows that six preambles can be

created for each RACH root sequence. The required number of RACH root sequences

equals

. Applying the default value of 1 for the

NRCellDU.rachRootSequence attribute means that sequences 1,

2, 3, 4, 5, and 6 are to be used in that cell. The values of the

NRCellDU.rachRootSequence attributes in adjacent cells must

differ by at least 6 (7-12), and 135 (133-137, 0) at most. The reason for this is a

wrap-around between the first and the last value in the value range.

RACH root sequences numerical equation

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

Example 4   Cell Range Configuration with Unrestricted Set and a Total Number of 17 RACH

Preambles

If the value of the NRCellDU.cellRange attribute is set to

4,000 in a cell with format 0, the configured cell range is

between 4,410 m and 3,560 m. This corresponds to 6 as the value of the

zeroCorrelationZoneConfig, with an NCS value of

32. The maximum observable distance is the maximum cell range, 4,410 m. The range of

the NRCellDU.pmRadioRaCbFailMsg1Ooc PM counter is the difference

between 4,410 m and 4,000 m, which is 410 m.

Restricted Set of Cyclic Preamble Shifts

The High Speed UE Low/Mid-Band feature applies the restricted

set of cyclic shifts for preambles. The restricted set is only supported on PRACH

preamble format 0.

With restricted sets, only 16 CBRA preambles can be used, and the number of required

RACH root sequences is shown in Table 18

and Table 19.

Table 18   Cell Range and Number of RACH Root Sequences for Mid-Band, Restricted Set

Type A

|   PRACH Preamble Format |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
|                       0 |                                    0 |          15 | < 1,991          |                                                     2 |
|                       0 |                                    1 |          18 | 1,992â2,420      |                                                     2 |
|                       0 |                                    2 |          22 | 2,421â2,990      |                                                     3 |
|                       0 |                                    3 |          26 | 2,991â3,560      |                                                     4 |
|                       0 |                                    4 |          32 | 3,561â4,420      |                                                     4 |
|                       0 |                                    5 |          38 | 4,421â5,280      |                                                     4 |
|                       0 |                                    6 |          46 | 5,281â6,420      |                                                     6 |
|                       0 |                                    7 |          55 | 6,421â7,710      |                                                     8 |
|                       0 |                                    8 |          68 | 7,711â9,570      |                                                     8 |
|                       0 |                                    9 |          82 | 9,571â11,570     |                                                     8 |
|                       0 |                                   10 |         100 | 11,571â14,150    |                                                    16 |
|                       0 |                                   11 |         128 | 14,151â18,150    |                                                    16 |
|                       0 |                                   12 |         158 | 18,151â22,440    |                                                    16 |
|                       0 |                                   13 |         202 | 22,441â28,740    |                                                    16 |
|                       0 |                                   14 |         237 | 28,741â33,740    |                                                    16 |

Table 19   Cell Range and Number of RACH Root Sequences for Mid-Band, Restricted Set

Type B

|   PRACH Preamble Format |   Value of zeroCorrelationZoneConfig |   NCS Value | Cell Range (m)   |   Number of Required RACH Root Sequences in Each Cell |
|-------------------------|--------------------------------------|-------------|------------------|-------------------------------------------------------|
|                       0 |                                    0 |          15 | < 1,991          |                                                     4 |
|                       0 |                                    1 |          18 | 1,992â2,420      |                                                     4 |
|                       0 |                                    2 |          22 | 2,421â2,990      |                                                     6 |
|                       0 |                                    3 |          26 | 2,991â3,560      |                                                     6 |
|                       0 |                                    4 |          32 | 3,561â4,420      |                                                     8 |
|                       0 |                                    5 |          38 | 4,421â5,280      |                                                     8 |
|                       0 |                                    6 |          46 | 5,281â6,420      |                                                     8 |
|                       0 |                                    7 |          55 | 6,421â7,710      |                                                    16 |
|                       0 |                                    8 |          68 | 7,711â9,570      |                                                    16 |
|                       0 |                                    9 |          82 | 9,571â11,570     |                                                    16 |
|                       0 |                                   10 |         100 | 11,571â14,150    |                                                    16 |
|                       0 |                                   11 |         118 | 14,151â16,720    |                                                    16 |
|                       0 |                                   12 |         137 | 16,721â19,440    |                                                    16 |

## 8.4 Inactivity Timer Configuration

The NR standalone Data Transfer function enables a configurable user plane inactivity

timer. When the timer elapses, an NR Standalone UE release is triggered.

Table 20   Configurable Timer

| Timer Name                              | Time Duration                                                               | Description                                                                                                   |
|-----------------------------------------|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
| InactivityProfileUeCfg.tInactivityTimer | Configurable, 10 s default value  Minimum value: 1 s  Maximum value: 7200 s | The time period while the NR standalone UE can be inactive before UE                                 release. |

## 8.5 High Power UE Support in NR SA Configuration

Power class 2 is supported for Low-Band and Mid-Band in standalone deployments.

To activate high power UE support in an NR SA deployment, one of the following

requirements must be fulfilled on the gNodeB:

- The NRCellDU.pMax attribute is set to a value higher than 23.
- The NRCellDU.pMax attribute is empty or it is set to 1000. Note: If the NRCellDU.pMax attribute is empty or it is set to 1000, the maximum uplink power of the UE is limited by UE capabilities.

Table 21   Behavior of the gNodeB with High Power UE Support Configured

| Attribute Value on gNodeB                                                           | Behavior Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NRCellDU.pMax is empty or it is set to 1000.                                        | The UE applies the maximum transmission power according to the UE                                 power class of the selected NR band combination and PSCell band in                                 Low-Band and Mid-Band based on the UE capability. This allows high                                 power UE operation in NR, even when the high power UE is in                                     RRC_CONNECTED state and is served                                 in the PCell. |
| NRCellDU.pMax is set to a value higher than                                     23. | High power UE operation in NR is allowed.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NRCellDU.pMax is set to 23 or a                                 lower value.        | High power UE operation in NR is blocked.                                                                                                                                                                                                                                                                                                                                                                                                                                               |

To configure the measurement thresholds for inter-frequency and inter-RAT mobility, the

following attributes are used:

- McpcPCellProfileUeCfg.rsrpCandidateA5PcOffset
- McpcPCellProfileUeCfg.rsrpCandidateB2PcOffset
- McpcPCellProfileUeCfg.rsrpCriticalPcOffset
- McpcPCellProfileUeCfg.rsrpSearchZonePcOffset
- TrStSaCellProfileUeCfg.rsrpPCellCandidatePcOffset

## 8.6 Discovery of AMFs via DNS Configuration

To use the discovery of AMFs via DNS function, the DNS client must be properly configured

in the O&amp;M or signaling router. The same DNS client for all operators or separate

DNS clients for each operator can be used in shared RAN. Separate DNS clients are

configured in each operator's signaling router. DNS servers must be configured with 5GS

TAI FQDN NAPTR resource records and with AMF FQDN A and AAAA resource records.

DNS servers must

support UDP with EDNS0 or TCP transport protocol.

DNS Client Reference Options

The localDnsEndpoint.dnsClientRef attribute references the DNS

client to be used.

Table 22   DNS Client Reference Options

| localDnsEndpoint.dnsClientRef   | Referenced from MO Class   | Description                                                                                                                                                                                                                      |
|---------------------------------|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Configured in EndpointResource  | ResourcePartitionMember    | It references the DNS client in the signaling router used for                                         a specific operator. This option is used for DNS traffic                                         separation in Shared RAN. |
| Configured in EndpointResource  | GNBCUCPFunction            | It references the DNS client in the signaling router used for                                         a specific operator or the DNS client shared by all                                         operators in Shared RAN.       |
| Not configured                  | n/a                        | The DNS client in the O&M router is used by default for                                         all operators.                                                                                                                   |

AMF Term-point Management Barring

Manually created TermPointToAmf MOs, if there is any, can be

excluded from deletion or modification by the discovery of AMFs via DNS function.

To achieve such exclusion, set the TermPointToAmf.isRemoveAllowed

attribute to FALSE, which is the default value. This option can be

used by operators that do not have DNS nor would like to use this functionality. DNS

resource records must not be configured in the DNS server for such operators to

avoid gNodeB with duplicated AMFs created manually or by the discovery of AMFs via

DNS function.

If the TermPointToAmf.isRemoveAllowed attribute is set to

TRUE, the TermPointToAmf MO is managed by

the discovery of AMFs via DNS function.

Periodic Triggering

To make the system trigger Discovery of AMFs via DNS periodically, set the

GNBCUCPFunction.dnsLookup5GsTaiPeriodicTimer attribute to an

appropriate value.

The GNBCUCPFunction.dnsLookup5GsTaiPeriodicTimer attribute is set

to 0 by default, which means that periodic triggering is switched off. It can take a

value from 0 to 1000 with a step of 1 hour.

## 8.7 Configuration Options Related to NR Service-Adaptive User Plane Profile

The NR Service-Adaptive User Plane Profile feature introduces support for UE

group-differentiated user plane configuration and enhancements for downlink cell group

switching and AQM.

The NR Service-Adaptive User Plane Profile introduces and deprecates attributes, which

affect this feature.

For more information, see NR Service-Adaptive User Plane Profile.

### 8.7.1 Deprecation Handling

The following attributes are introduced for deprecation handling:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.servAdapUPProfDepHEnabled

The GNBCUUPFunction.altDepHServAdapUPProfEnabled and the

GNBDUFunction.altDepHServAdapUPProfEnabled attributes control

whether the legacy or the updated MOM configuration is used.

If the following attributes are set to false, legacy attributes are used

with deprecation handling:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled

If the following attributes are set to true, the introduced MOM

configuration is used:

- GNBCUUPFunction.altDepHServAdapUPProfEnabled
- GNBDUFunction.altDepHServAdapUPProfEnabled

Node restart is required after both changes.

Backwards Compatible Changes

For backwards compatibility, the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is used and

by default it is set to true.

All deprecated attribute values are copied from the NRCellDU MO

instances to the replacement attributes in the CgSwitchCfg MO

instances.

When normal deprecation handling is enabled, the MO instance of the introduced MO

class corresponding to the NRCellDU MO instance is automatically

deleted or created.

When normal deprecation handling is enabled, and the operator creates an

NRCellDU MO instance, instances of the following MO classes

must not be created manually:

- CgSwitch
- CgSwitchCfg
- CgSwitchUeCfg
- UeCC

If the operator wants to create instances of these MO classes together with

NRCellDU MO instances in the same transaction, the creation

of the NRCellDU MO instance must be ordered after the creation of

the listed MO classes.

Normal deprecation handling only works for NRCellDU MO instances

that are mapped to one CgSwitch MO instance, and if the number of

CgSwitch MO instances is at most 48. When an

NRCellDU MO instance is created, but there is no

CgSwitch MO instance left, deprecation handling is not

applied for that cell. Therefore, default values are used instead for the following

attributes:

- NRCellDU.endcDlLegSwitchEnabled
- NRCellDU.endcDlNrLowQualThresh
- NRCellDU.endcDlNrQualHyst

It is possible to control which configuration to use for each

NRCellDU instance by setting the

GNBDUFunction.servAdapUPProfDepHEnabled attribute to

false, even when more than 48 NRCellDU MO

instances are created. There is still a limitation of having 48 plus one

CgSwitch MO instances for configuration. Additionally, UE

grouping is only supported when the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is set to

false.

Figure 12 shows normal deprecation

handling.

Figure 12   Normal Deprecation Handling

It is recommended to configure the user plane attributes in the

CgSwitchCfg MO class if the class is available in the

Management System.

It is recommended to update the attribute values in the introduced MO classes first,

when deprecation handling is disabled and the

GNBDUFunction.servAdapUPProfDepHEnabled attribute is set to

false.

Disabling deprecation handling prevents attributes in the

CgSwitchCfg MO instance from being overwritten in the

introduced management system versions. In these use cases, the

CgSwitchCfg MO instance is visible and used instead of the

deprecated attributes.

Non-Backwards Compatible Changes

Changes in the following MO classes are non-backwards compatible because of the

reduced cardinality of the introduced MO classes:

- AqmCfg
- DcDlCfg
- Drb
- DrbUeCfg
- UserPlaneProfile
- UserPlaneProfileUeCfg

Therefore, it is recommended to configure the user plane attributes in these MO

classes if they are available in the Management System.

If the change to the introduced MO classes and attributes is not performed before the

deprecation window ends, default values are applied if no configuration is

provided.

Figure 13 and Figure 14 show alternative deprecation

handling, when the altDepHServAdapUPProfEnabled attribute is set

to true.

Figure 13   Alternative Deprecation Handling in

GNBCUUPFunction

Figure 14   Alternative Deprecation Handling in

GNBDUFunction

It is recommended to migrate as soon as possible to the introduced attributes to

fully realize the benefits of the new configuration management for this feature, and

avoid using the following attributes:

- CUUP5qi.aqmMode
- CUUP5qi.dcDlPdcpAggrPrioCg
- CUUP5qi.dcDlPdcpAggrTimeDiffCg
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit
- CUUP5qi.dcDlPdcpAggrTimeDiffThresh
- CUUP5qi.estimatedE2ERTT
- CUUP5qi.l4sCfgRef
- CUUP5qi.packetDelayBudget
- CUUP5qi.packetDelayBudgetOffset
- CUUP5qi.tOooUlDelivery
- DU5qi.aqmMode
- DU5qi.estimatedE2ERTT
- DU5qi.packetDelayBudgetOffset
- GNBCUUPFunction.dcDlAggActTime
- GNBCUUPFunction.dcDlAggExpiryTimer
- GNBCUUPFunction.dcDlPdcpInitialMcgRate
- GNBCUUPFunction.dcDlPdcpInitialScgRate
- GNBCUUPFunction.dlPdcpSpsTargetTimeLTE
- GNBCUUPFunction.dlPdcpSpsTargetTimeNR
- GNBCUUPFunction.endcDlNrRetProhibTimer

The following attributes are deprecated:

- NRCellDU.endcDlLegSwitchEnabled
- NRCellDU.endcDlNrLowQualThresh
- NRCellDU.endcDlNrQualHyst

If the GNBCUUPFunction.altDepHServAdapUPProfEnabled attribute is

set to false, the following attributes are used:

- CUUP5qi.aqmMode
- CUUP5qi.dcDlPdcpAggrPrioCg
- CUUP5qi.dcDlPdcpAggrTimeDiffCg
- CUUP5qi.dcDlPdcpAggrTimeDiffProhibit
- CUUP5qi.dcDlPdcpAggrTimeDiffThresh
- CUUP5qi.estimatedE2ERTT
- CUUP5qi.l4sCfgRef
- CUUP5qi.packetDelayBudget
- CUUP5qi.packetDelayBudgetOffset
- CUUP5qi.tOooUlDelivery
- GNBCUUPFunction.dcDlAggActTime
- GNBCUUPFunction.dcDlAggExpiryTimer
- GNBCUUPFunction.dcDlPdcpInitialMcgRate
- GNBCUUPFunction.dcDlPdcpInitialScgRate
- GNBCUUPFunction.dlPdcpSpsTargetTimeLTE
- GNBCUUPFunction.dlPdcpSpsTargetTimeNR
- GNBCUUPFunction.endcDlNrRetProhibTimer

If the GNBCUUPFunction.altDepHServAdapUPProfEnabled attribute is

set to true, the following attributes are used:

- AqmCfg.aqmMode
- AqmCfg.estimatedE2ERTT
- AqmCfg.tDiscardDl
- AqmCfg.tOooUlDelivery
- DcDlCfg.dcDlAggAllowed
- DcDlCfg.dcDlAggCgPrioOverride
- DcDlCfg.dlPdcpPreferredCgOverride
- Drb.ueConfGroupType
- DrbUeCfg.aqmCfgRef
- DrbUeCfg.dcDlCfgRef
- DrbUeCfg.l4sCfgRef
- DrbUeCfg.prefUeGroupList
- DrbUeCfg.ueConfGroupList
- DrbUeCfg.ueGroupList
- UserPlaneProfile.ueConfGroupType
- UserPlaneProfileUeCfg.dcDlAggActTime
- UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg
- UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime
- UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh
- UserPlaneProfileUeCfg.dcDlAggCgPrio
- UserPlaneProfileUeCfg.dcDlAggExpiryTimer
- UserPlaneProfileUeCfg.dcDlAggHighLatencyThresh
- UserPlaneProfileUeCfg.dcDlAggMcgDrxWakeupTime
- UserPlaneProfileUeCfg.dcDlAggScgDrxWakeupTime
- UserPlaneProfileUeCfg.dlPdcpMcgInitialRate
- UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime
- UserPlaneProfileUeCfg.dlPdcpPreferredCg
- UserPlaneProfileUeCfg.dlPdcpScgInitialRate
- UserPlaneProfileUeCfg.dlPdcpScgRetProhibitTime
- UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime
- UserPlaneProfileUeCfg.prefUeGroupList
- UserPlaneProfileUeCfg.ueConfGroupList
- UserPlaneProfileUeCfg.ueGroupList
- UserPlaneProfileUeCfg.ulPdcpScgRetProhibitTime

If the GNBDUFunction.altDepHServAdapUPProfEnabled attribute is set

to false, the following attributes are used:

- DU5qi.aqmMode
- DU5qi.estimatedE2ERTT
- DU5qi.packetDelayBudget
- DU5qi.packetDelayBudgetOffset

If the GNBDUFunction.altDepHServAdapUPProfEnabled attribute is set

to true, the following attributes are used:

- AqmCfg.aqmMode
- AqmCfg.estimatedE2ERTT
- AqmCfg.tDiscardDl
- DrbUp.ueConfGroupType
- DrbUpUeCfg.aqmCfgRef
- DrbUpUeCfg.prefUeGroupList
- DrbUpUeCfg.ueConfGroupList
- DrbUpUeCfg.ueGroupList
- DU5qi.drbUpRef

If the switch to the introduced MO classes and attributes is not performed before the

deprecation window ends and no configuration is provided, the default values are

used for these attributes.

### 8.7.2 Migration Information

The NR Service-Adaptive User Plane Profile feature introduces attributes and MO

classes for UE group-differentiated user plane configuration, for downlink cell group

switching, and for AQM.

MO classes and attributes are introduced under the GNBCUUPFunction and

the GNBDUFunction MO classes to support the introduced

functionalities. These classes and attributes co-exist with deprecated attributes.

Therefore, the migration to the introduced attributes is recommended.

Guidelines for Migration from the GNBCUUPFunction MO Class to

the UserPlaneProfile MO Class

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- There is a single instance of the UserPlaneProfile MO class.
- The attribute values defined under the UserPlaneProfileUeCfg=Base MO instance are applied to all 5QIs and QCIs.

Table 23   Mapping between Legacy and Introduced Attributes under the

GNBCUUPFunction MO Class

| Legacy Attribute                       | Introduced Attribute                           |
|----------------------------------------|------------------------------------------------|
| GNBCUUPFunction.dcDlAggActTime         | UserPlaneProfileUeCfg.dcDlAggActTime           |
| GNBCUUPFunction.dcDlAggExpiryTimer     | UserPlaneProfileUeCfg.dcDlAggExpiryTimer       |
| GNBCUUPFunction.dcDlPdcpInitialMcgRate | UserPlaneProfileUeCfg.dlPdcpMcgInitialRate     |
| GNBCUUPFunction.dcDlPdcpInitialScgRate | UserPlaneProfileUeCfg.dlPdcpScgInitialRate     |
| GNBCUUPFunction.dlPdcpSpsTargetTimeLTE | UserPlaneProfileUeCfg.dlPdcpMcgSpsTargetTime   |
| GNBCUUPFunction.dlPdcpSpsTargetTimeNR  | UserPlaneProfileUeCfg.dlPdcpScgSpsTargetTime   |
| GNBCUUPFunction.endcDlNrRetProhibTimer | UserPlaneProfileUeCfg.dlPdcpScgRetProhibitTime |

Guidelines for Migration from the CUUP5qi MO Class to the

Drb and the UserPlaneProfile MO

Classes

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- The CUUP5qi.drbRef attribute must reference a Drb MO instance.
- The DrbUeCfg=Base MO instance must reference an AqmCfg MO instance and a DcDlCfg MO instance.
- Two or more CUUP5qi MO instances with the same attribute values can reference a single Drb MO instance. This results in the same AqmCfg and DcDlCfg MO instances being used for such CUUP5qi MO instances.
- Different Drb instances with a child DrbUeCfg=Base MO instance are needed for different AQM and PDCP settings. This results in different AqmCfg and DcDlCfg MO instances.
- Automatically created Drb MO instances can be referenced by any CUUP5qi MO instance.
- Automatically created instances of the following MO classes can be referenced by a Drb MO instance that is referenced by any CUUP5qi MO instance: AqmCfg DcDlCfg DrbUeCfg
- Manually created instances of L4sCfg MO class can be referenced by a Drb MO instance that is referenced by any CUUP5qi instance.

Table 24   Mapping between Legacy and Introduced Attributes under the

CUUP5qi MO Class

| Legacy Attribute                                           | Introduced Attribute                                                                                             | Note                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CUUP5qi.aqmMode                                            | AqmCfg.aqmMode                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrPrioCg                                 | DcDlCfg.dcDlAggAllowed                                                                                           | If the CUUP5qi.dcDlPdcpAggrPrioCg                                         attribute is set to NO_AGGREGATION, the                                             DcDlCfg.dcDlAggAllowed attribute is                                         set to false.  Otherwise, the DcDlCfg.dcDlAggAllowed                                         attribute is set to true.                                                                                                                                                                                                                                                                                                          |
| CUUP5qi.dcDlPdcpAggrPrioCg                                 | UserPlaneProfileUeCfg.dcDlAggCgPrio or                                             DcDlCfg.dcDlAggCgPrioOverride | The UserPlaneProfileUeCfg.dcDlAggCgPrio                                         attribute is defined on UE level with, meaning the same                                         value is used for all 5QIs and QCIs.  The DcDlCfg.dcDlAggCgPrioOverride                                         attribute is optionally defined on 5QI and QCI levels, and                                         overrides the value specified in the                                             UserPlaneProfileUeCfg.dcDlAggCgPrio                                         attribute. If the attribute is not needed, leave the value                                         empty. |
| CUUP5qi.dcDlPdcpAggrTimeDiffCg                             | UserPlaneProfileUeCfg.dcDlAggAgeDiffPreferredCg                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrTimeDiffProhibit                       | UserPlaneProfileUeCfg.dcDlAggAgeDiffProhibitTime                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.dcDlPdcpAggrTimeDiffThresh                         | UserPlaneProfileUeCfg.dcDlAggAgeDiffThresh                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.estimatedE2ERTT                                    | AqmCfg.estimatedE2ERTT                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.packetDelayBudget  CUUP5qi.packetDelayBudgetOffset | AqmCfg.tDiscardDl                                                                                                | The AqmCfg.tDiscardDl attribute equals the                                         sum of the CUUP5qi.packetDelayBudget and                                         the CUUP5qi.packetDelayBudgetOffset                                         attributes.                                                                                                                                                                                                                                                                                                                                                                                                               |
| CUUP5qi.tOooUlDelivery                                     | AqmCfg.tOooUlDelivery                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| CUUP5qi.l4sCfgRef                                          | DrbUeCfg.l4sCfgRef                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Guidelines for Migration from the DU5qi MO Class to the

DrbUp MO Class

The migration described in this section does not use the UE Grouping Framework and

does not create UE-specific configuration.

The following rules must be considered:

- The DU5qi.drbUpRef attribute must reference a DrbUp MO instance.
- The DrbUpUeCfg=Base MO instance must reference an AqmCfg MO instance.
- Two or more DU5qi MO instances with the same attribute values can reference a single DrbUp MO instance. This results in the same AqmCfg MO instance being used for any DU5qi MO instances.
- Different DrbUp MO instances with a child DrbUpUeCfg=Base MO instance are needed for different AQM settings. Different AqmCfg MO instances are needed.
- Automatically created instances of the following MO classes can be referenced by any DU5qi MO instance: AqmCfg DrbUp DrbUpUeCfg

Table 25   Mapping between Existing and Introduced Attributes under the DU5qi MO

Class

| Existing Attribute                                     | Introduced Attribute   | Note                                                                                                                                                                                                                                                    |
|--------------------------------------------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DU5qi.aqmMode                                          | AqmCfg.aqmMode         |                                                                                                                                                                                                                                                         |
| DU5qi.estimatedE2ERTT                                  | AqmCfg.estimatedE2ERTT |                                                                                                                                                                                                                                                         |
| DU5qi.packetDelayBudget  DU5qi.packetDelayBudgetOffset | AqmCfg.tDiscardDl      | The AqmCfg.tDiscardDl attribute equals the                                         sum of the DU5qi.packetDelayBudget and                                         the DU5qi.packetDelayBudgetOffset                                         attributes. |

## 8.8 Paging Capacity over the Air Interface

The size of the RRC paging message depends on CORESET#0, the RRC paging message can

include 5GC initiated pages and RAN initiated pages.

The maximum size of the RRC paging message depends on the size of CORESET#0. For cells

with a CORESET#0 size of 48 PRBs, an RRC paging message carries at least 17 paging

records. For cells with a CORESET#0 size of 24 PRBs, an RRC paging message carries at

least nine paging records.

These RRC paging messages can include both 5GC initiated pages and RAN initiated

pages.

The number of paging occasions depends on the following parameters:

- Paging.n
- Paging.nS

Only one RRC paging message can be transmitted in a paging occasion.

The properties of paging are calculated through the following methods:

- The number of paging frames for each second is calculated by multiplying the value of the Paging.n parameter by 100.
- The number of paging occasions for each second is calculated by multiplying the Paging.nS parameter by the number of paging frames for each second.
- The maximum guaranteed number of paging occasions for each second is calculated by multiplying the number of paging occasions for each second by 17 paging records.

The average number of paging records in an RRC paging message in a cell is calculated by

dividing the value of the NRCellDU.pmPagBundledUeDistr attribute by

the value of the NRCellDU.pmPagBundledUeSampDistr attribute.

If high incoming paging intensity or high main processor load is present, pages might be

discarded before they are queued for transmission over the air interface. For more

information, see Paging Overload Protection and NR Overload Protection.

## 8.9 Configuration for UE Context Supervision

The UE context supervision function provides configuration for measurements related

to poor cell coverage.

The UE context supervision function uses the following attributes to support the critical

PCell coverage and better PCell candidate measurements for each UE group:

- UeNoDrbPCellProfileUeCfg.rsrpBetterPCellEnabled
- UeNoDrbPCellProfileUeCfg.rsrpBetterPCell
- UeNoDrbPCellProfileUeCfg.rsrpCriticalEnabled
- UeNoDrbPCellProfileUeCfg.rsrpCritical
- UeNoDrbPCellProfileUeCfg.rsrpCriticalPcOffset
- UeNoDrbPCellProfileUeCfg.rsrqCriticalEnabled
- UeNoDrbPCellProfileUeCfg.rsrqCritical
- UeNoDrbPCellProfileUeCfg.sinrCriticalEnabled
- UeNoDrbPCellProfileUeCfg.sinrCritical

The periodic PCell RSRP measurement continuously monitors the UE radio connection and is

not configurable.

For optimal operation of the UE context supervision, the thresholds of the critical PCell

coverage and the better PCell candidate measurements are recommended to be tuned as

described in Table 26.

Table 26   Configuration Recommendation for UE Context Supervision

| Attribute                                | Recommendation                                                                                                                                                                                                                                        |
|------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UeNoDrbPCellProfileUeCfg.rsrpCritical    | It is recommended to set the value of this attribute according to                                     the McpcPCellProfileUeCfg.rsrpCritical                                     attribute setting.                                                   |
| UeNoDrbPCellProfileUeCfg.rsrqCritical    | It is recommended to set the value of this attribute according to                                     the McpcPCellProfileUeCfg.rsrqCritical                                     attribute setting.                                                   |
| UeNoDrbPCellProfileUeCfg.sinrCritical    | It is recommended to set the value of this attribute according to                                     the McpcPCellProfileUeCfg.sinrCritical                                     attribute setting.                                                   |
| UeNoDrbPCellProfileUeCfg.rsrpBetterPCell | It is recommended to set the value of this attribute according to                                     the                                         IntraFreqMCCellProfileUeCfg.rsrpBetterSpCell                                     attribute setting. |

Related concepts

Feature Operation of Connection Establishment

UE Context Supervision

Related Information

NR Mobility

Manage Mobility NR

8Engineering Guidelines for NR Standalone

# Appendix A: Feature Change History

This section lists changes that affected this feature and the impact it had on the

network.

## Appendix A.a: 20.Q2: Support for CPRI Radio Units in Standalone Deployment

NR standalone deployment is supported on FDD and TDD for CPRI radio units. SIB1 and

OSI can be broadcast in NR standalone cells.

| Feature Name:           | NR Standalone       |
|-------------------------|---------------------|
| Feature Identity:       | FAJ 121 5060        |
| Value Package Name:     | NR Base Package     |
| Value Package Identity: | FAJ 801 4002        |
| Node Type:              | Baseband Radio Node |
| Access Type:            | NR                  |

NR standalone deployment is supported for CPRI radio units with feature and functional

parity to NR standalone eCPRI and EN-DC on CPRI.

For all the supported channel bandwidth values regarding each frequency range in a given

deployment, see Manage Radio Network NR.

Capacity and Performance

No impact.

Operation

The following attributes need to be configured to set the supported channel

bandwidths for the NR cell:

- NRSectorCarrier.bSChannelBwDL
- NRSectorCarrier.bSChannelBwUL

The setting of the NRCellDU.secondaryCellOnly attribute is

applicable to Low-Band FDD, Mid-Band TDD,

and NR cells. Such NR cells are given the capability to broadcast SIB1 for NR cell

selection after unlocking the cell. With SIB1 broadcast, such NR cells can also

broadcast the following SIBs considered to be the OSI:

- SIB2
- SIB4
- SIB5

Interfaces

No impact.

Hardware

The supported channel bandwidth values for Low-Band FDD and Mid-Band TDD are applicable to CPRI radio units.

Other Network Elements

No impact.

## Appendix A.b: 20.Q4: UE Capability Check for NR Standalone with Non-Compliant UE Handling

The enhancement introduces the UE capability check framework to NR Standalone

including the handling of UEs that fail the UE capability check.

| Feature Name:           | NR Standalone                |
|-------------------------|------------------------------|
| Feature Identity:       | FAJ 121 5060                 |
| Value Package Name:     | NR Low/Mid-Band Base Package |
| Value Package Identity: | FAJ 801 4002/5LM             |
| Node Type:              | Baseband Radio Node          |
| Access Type:            | NR                           |

Benefits

The enhancement provides NR SA-capable UEs with optimal connectivity experience based on

the evaluation of their UE capability information.

NR SA-capable UEs can be configured based on their reported capabilities if the check is

successful, or be handled in the following ways if they fail the capability

check:

- Released and redirected to LTE blindly at Initial Context Setup
- Kept in the serving PCell at rejection of the following intra-frequency handover attempts by the handover target cell: Inter-gNodeB handover Intra-gNodeB handover

The implementation of the framework for the UE capability check procedure in NR

Standalone allows UE capabilities to be considered in the radio configuration of the

UE.

Capacity and Performance

The improvement enables the optimized handling of NR SA-capable UEs in the network

based on UE capabilities and the activated features on the gNodeB to which they are

connected. This can result in more optimal UE radio configuration, as well as

improved throughput and performance.

Operation

The UE capability check procedure is performed at Initial Context Setup, signaled

over the NG-C Interface. If

the NR SA-capable UE fails the UE capability check, it is released and blindly

redirected to LTE. The LTE frequency priority for redirecting the UE is evaluated

according to the configuration of the

EUtranFreqRelation.connectedModeMobilityPrio attribute on the

gNodeB. If none of the configured LTE frequencies are suitable, or no LTE coverage

is provided, the UE is released to RRC\_IDLE mode with no

redirection.

Interfaces

| F1-C   |    | Proprietary cause values for the UE failing the capability check are                                 added to the following messages: F1AP UE CONTEXT SETUP FAILURE  F1AP UE CONTEXT MODIFICATION FAILURE   |
|--------|----|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        |    |                                                                                                                                                                                                             |
| NG-C   |    | A new reject cause for the UE failing the capability check is added                                 to the NGAP HANDOVER FAILURE message.                                                                   |

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## Appendix A.c: 20.Q4: UE Capability Info Refresh

This feature enhancement introduces mechanisms for retrieving all node relevant UE

capabilities from the UE to make good configuration choices for the

UE.

| Feature Name:           | NR Standalone                |
|-------------------------|------------------------------|
| Feature Identity:       | FAJ 121 5060                 |
| Value Package Name:     | NR Low/Mid-Band Base Package |
| Value Package Identity: | FAJ 801 4002/5LM             |
| Node Type:              | Baseband Radio Node          |
| Access Type:            | NR                           |

Benefits

This feature enhancement has the following benefits:

- Optimized UE connectivity configuration
- Expanded AMF capability information
- Updated and relevant UE capability information available to gNodeBs with minimal RRC signaling (for the lifetime of the UE in the network)
- Optimized SCell reconfiguration

Capacity and Performance

More optimized SCell configuration is available for each UE capability known for all

frequencies on the gNodeB.

Operation

After an inter-gNodeB handover and at initial access, the status of the supplied UE

capability information from the AMF or source cell is evaluated against the UE

capability information need of the gNodeB. The need is expressed in terms of the

total set of 3GPP bands carried by all the NRFrequency MOs

configured in the gNodeB. If the need exceeds what is supplied, a UE capability

enquiry procedure is triggered. The AMF is updated with the new UE capability

information. In the inter-gNodeB handover case, a new attempt at finding a suitable

configuration for the UE is performed after the UE capability enquiry. If a new

configuration is found, the UE is reconfigured with the new configuration.

Interfaces

This feature enhancement affects the following interfaces:

- The F1AP UE CONTEXT MODIFICATION message is sent again at UE capability refresh.
- The RRC UECapabilityEnquiry message is added in the handover case for the target gNodeB when needed.
- The NGAP INITIAL CONTEXT SETUP REQUEST message contains the UE capability information stored in the AMF.
- The refreshed UE capability information is reported to the AMF for future use in the NGAP UE CAPABILITY INFO INDICATION message.

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

## Appendix A.d: 21.Q1: Support for Overlapping Bands and Observability of UE Capability Failure

This system improvement introduces mechanisms to ensure a synchronized view between

the CU and the DU regarding which 3GPP band a cell must belong to if there are overlapping

3GPP bands.

| Feature Name:           | NR Standalone       |
|-------------------------|---------------------|
| Feature Identity:       | FAJ 121 5060        |
| Value Package Name:     | NR Base Package     |
| Value Package Identity: | FAJ 801 4002        |
| Node Type:              | Baseband Radio Node |
| Access Type:            | NR SA               |

Summary

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

![Image](../images/54_22104-LZA7016017_1Uen.JX33C/additional_3_CP.png)

This system improvement introduces mechanisms to ensure a synchronized view between

the CU and the DU regarding which 3GPP band a cell must belong to if there are

overlapping 3GPP bands. This is to ensure that the same band information is used in

cell configuration and measurement configuration to the UE.

The improvement also introduces observability for the Release with Redirect handling

of non-capable UEs.

Benefits

This system improvement provides the following benefits:

- Synchronization between the CU and the DU if there are overlapping 3GPP bands.
- Observability for the Release with Redirect handling of non-capable UEs.

Capacity and Performance

This improvement prevents UE crashes because of mismatched band information in cell

configuration and measurement configuration.

Operation

The band affiliation of a cell is based on either

NRCellDU.bandList or

NRCellDU.bandListManual.

This improvement introduces the following counter:

- NRCellCU.pmEbsRwrEutranUeSuccUeCapFailDu

Interfaces

This system improvement adds proprietary operating band information to the following

messages:

- F1 UE CONTEXT SETUP RESPONSE
- F1 UE CONTEXT MODIFICATION RESPONSE

Hardware

No specific hardware requirements.

Other Network Elements

No impact.

## Appendix A.e: 21.Q2: High Power UE Support in NR

This enhancement supports the use of power class 2 high power UEs with a maximum

power value of 26 dBm in NR.

| Feature Name:           | LTE-NR Dual Connectivity   | NR Standalone       |
|-------------------------|----------------------------|---------------------|
| Feature Identity:       | FAJ 121 4908               | FAJ 121 5060        |
| Value Package Name:     | NR Base Package            | NR Base Package     |
| Value Package Identity: | FAJ 801 4002               | FAJ 801 4002        |
| Node Type:              | Baseband Radio Node        | Baseband Radio Node |
| Access Type:            | NR                         | NR                  |

Benefits

This enhancement enables the use of up to 26 dBm of transmission power for a high

power UE in NR FR1. The NR cell band must support the high power UE for the

enhancement to be operable.

This enhancement is applicable for the following procedures in NR SA deployment:

- Initial connection setup
- Inter-gNodeB inter-frequency handover based on NG
- Inter-gNodeB intra-frequency handover based on NG
- Intra-gNodeB inter-frequency handover
- Intra-gNodeB intra-frequency handover

This enhancement is applicable for the following configurations in NR NSA

deployment:

- Inter-band EN-DC FDD-TDD with power class 2 in FR1
- Inter-band EN-DC TDD-TDD with power class 2 in FR1
- Intra-band EN-DC with power class 2 in FR1

Capacity and Performance

This enhancement increases the uplink coverage and the uplink edge throughput by

supporting power class 2 UEs.

Operation

To benefit from this enhancement, one of the following requirements must be fulfilled

on the gNodeB:

- The NRCellDU.pMax attribute is set to a value higher than 23.
- The NRCellDU.pMax attribute is not configured or it is set to 1000.

This enhancement increases the following NR SA KPIs:

- DRB Accessibility
- DRB Retainability
- NR Handover success rate captured in source gNodeB

This enhancement increases the following NR NSA KPIs:

- Average DL MAC DRB Throughput
- Average UL MAC UE Throughput
- DL MAC DRB Throughput per QoS
- Random Access Success Rate Captured in gNodeB
- SCG Active Radio Resource Retainability, Captured in gNodeB
- UE Context Setup Success Rate

This enhancement increases the following PM counters:

- NRCellDU.pmMacVolUlResUe
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmRadioRecInterferencePowerDistr

This enhancement decreases the following PM counters:

- NRCellCU.pmEndcRelUeAbnormalSgnb
- NRCellCU.pmEndcRelUeAbnormalSgnbAct

Interfaces

No impact.

Hardware

No special hardware requirements.

Other Network Elements

No impact.

## Appendix A.f: 22.Q3: Configuration of AQM MODE1 in the gNodeB-DU for NR Standalone

This feature enhancement enables the configuration of AQM in

RLC.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Mandatory           |

Summary and Benefits

This feature enhancement enables the configuration of AQM MODE1 behavior in RLC,

optimizing user data buffering.

Capacity and Performance

Increasing the value of the DU5qi.estimatedE2ERTT attribute

allows increased buffering of user data packets for NR Standalone DRBs which can

improve throughput for large file downloads. Increased buffering can cause buffering

delays which can have a negative performance impact on interactive applications.

Operation

The AQM minimum and maximum ages are configured using the

DU5qi.estimatedE2ERTT attribute for NR Standalone DRBs with

the DU5qi.aqmMode attribute configured to 1.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is required to use ENM version 22.3 or later to support the

MOM changes introduced by this feature enhancement.

Related Information

NR Standalone

LTE-NR Dual Connectivity

NR-NR Dual Connectivity

## Appendix A.g: 22.Q3: High Power UE Support for Power Class 1.5 in NR Standalone

This feature enhancement supports the use of power class 1.5 high power UEs with a

maximum of 29 dBm uplink transmission power in NR Standalone.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

By supporting high power UEs capable of power class 1.5 on FR1 TDD bands, the feature

enhancement increases uplink coverage and uplink edge throughput. This way,

significant network deployment savings can be achieved.

The PCell band must support the high power UE for the feature enhancement to be

operable.

Capacity and Performance

This feature enhancement increases the uplink coverage and the uplink edge throughput

by supporting power class 1.5 UEs.

The Average UL MAC UE Throughput KPI can be used to observe the benefits of the

feature enhancement.

The following common NR KPIs are increased:

- Average DL MAC DRB Throughput
- Average UL MAC UE Throughput
- DL MAC DRB Throughput per QoS
- Random Access Success Rate Captured in gNodeB
- UE Context Setup Success Rate

The following NR standalone KPIs are increased:

- DRB Accessibility
- DRB Retainability
- NR Handover success rate captured in source gNodeB

The following PM counters are affected:

- NRCellDU.pmMacVolUlResUe
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmRadioRecInterferencePowerDistr
- NRCellCU.pmEndcRelUeAbnormalSgnb
- NRCellCU.pmEndcRelUeAbnormalSgnbAct

Operation

To benefit from this feature enhancement, one of the following requirements must be

fulfilled on the gNodeB:

- The NRCellDU.pMax attribute is set to a value higher than 26.
- The NRCellDU.pMax attribute is not configured or it is set to 1000.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

ENM version 22.2 or later is required for this feature.

Related Information

NR Standalone

## Appendix A.h: 22.Q4: Improved Configuration of Paging

This feature enhancement allows the operator to set how long a received RRC paging

message can queue in the gNodeB before it is

discarded.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Mandatory           |

Summary and Benefits

This feature enhancement introduces the Paging.pagingDiscardTimer

attribute to control the period for which a received RRC paging message can exist

without being broadcast. After the configured timer expires, the paging message is

discarded.

Capacity and Performance

The effects of this feature enhancement can be observed through the

NRCellDU.pmPagDiscarded PM counter.

Operation

The feature enhancement introduces the Paging.pagingDiscardTimer

attribute, which can be used to control how long a received RRC paging message can

be queued in the gNodeB. If the timer expires, the message is discarded.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 22.4 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

Related Information

NR Standalone

## Appendix A.i: 23.Q1: High Power UE Mobility Improvement

This feature enhancement provides uplink edge throughput increase and coverage gain

for

high-power

UEs in inter-frequency deployment scenarios.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Mandatory           |

Summary and Benefits

This feature enhancement introduces attributes to configure the measurement

thresholds of inter-frequency mobility features that are differentiated

by

the UE power class.

Extended uplink coverage is provided for high-power

UEs

in

cells with high power support

and

the uplink edge throughput of high-power capable UEs is

increased. A

high-power

UE is provided with more

opportunities

to move towards cells with high power support in different frequency bands.

This feature enhancement has the following benefits:

- Extension of uplink coverage
- Improvement of uplink edge throughput in inter-frequency deployments

Capacity and Performance

Through the increase of uplink coverage and uplink edge throughput in

inter-frequency

deployment scenarios, higher UE throughput is provided for

high-power

capable UEs in cells with high power support.

Increase of

throughput-related

KPIs is expected, as

high-power

UEs can stay longer

in

cells with high-power support through the configuration of the

differentiated measurement

thresholds

based on the UE power class.

Depending on the network configuration, the number of

inter

frequency handover of

high-power

UEs and the number of I-RAT

handovers

to EUTRAN of

high-power

UEs can decrease.

KPI impact:

- The KPI Average DL MAC DRB Throughput can be improved depending on the network configuration.
- The KPI DL MAC DRB Throughput per QoS can be improved depending on the network configuration.
- The KPI Average UL MAC UE Throughput can be improved depending on the network configuration.

The following flexible EBS counters can be used to observe the performance of the

feature:

- pmEbsDrbEstabAtt5qi
- pmEbsDrbEstabAttLsm5qi
- pmEbsDrbEstabSucc5qi
- pmEbsDrbEstabSuccLsm5qi
- pmEbsPduSessionEstabAtt
- pmEbsPduSessionEstabSucc
- pmEbsUeCtxtEstabAtt
- pmEbsUeCtxtEstabLatDistr
- pmEbsUeCtxtEstabSucc
- pmEbsDrbEstabAttInit5qi
- pmEbsDrbEstabSuccInit5qi
- pmEbsPduSessionModifyAtt
- pmEbsPduSessionModifySucc
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeAttOutDrbEutran
- pmEbsHoExeAttOutDrbInterGnb
- pmEbsHoExeAttOutDrbIntraGnb
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeSuccOutDrbEutran
- pmEbsHoExeSuccOutDrbInterGnb
- pmEbsHoExeSuccOutDrbIntraGnb
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbTs
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeAttOutIntraGnbTs
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbTs
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeSuccOutIntraGnbTs
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeAttOutDrbEutran
- pmEbsHoExeAttOutDrbInterGnb
- pmEbsHoExeAttOutDrbIntraGnb
- pmEbsHoExeAttOutEutran
- pmEbsHoExeAttOutEutranPoorCov
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeSuccOutDrbEutran
- pmEbsHoExeSuccOutDrbInterGnb
- pmEbsHoExeSuccOutDrbIntraGnb
- pmEbsHoExeSuccOutEutran
- pmEbsHoExeSuccOutEutranPoorCov
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeAttOutInterGnb
- pmEbsHoExeAttOutInterGnbIntraF
- pmEbsHoExeAttOutInterGnbTs
- pmEbsHoExeAttOutInterGnbXn
- pmEbsHoExeAttOutIntraGnb
- pmEbsHoExeAttOutIntraGnbIntraF
- pmEbsHoExeAttOutIntraGnbTs
- pmEbsHoExeSuccOutInterGnb
- pmEbsHoExeSuccOutInterGnbIntraF
- pmEbsHoExeSuccOutInterGnbTs
- pmEbsHoExeSuccOutInterGnbXn
- pmEbsHoExeSuccOutIntraGnb
- pmEbsHoExeSuccOutIntraGnbIntraF
- pmEbsHoExeSuccOutIntraGnbTs
- pmEbsHoExeAttIntraCell
- pmEbsHoExeSuccIntraCell
- pmEbsHoPrepAttIntraCell
- pmEbsHoPrepSuccIntraCell

The

EBS counters are associated with the NRCellCU,

NRCellRelation and EUtranCellRelation

MOs. For more information on EBS counters associated with the

feature, see Lists and Delta Lists.

Operation

The feature

enhancement

supports the configuration of differentiated measurement thresholds based on the UE

power class for inter-frequency mobility features. To provide coverage extension,

offsets are introduced to differentiate between the measurement thresholds. Flexible

counters

are

also introduced that are differentiated

by

the UE power class.

The following attributes are introduced to support differentiated measurement

thresholds based on the UE power class for inter-frequency mobility features:

- McpcPCellProfileUeCfg.rsrpCandidateA5PCOffset
- McpcPCellProfileUeCfg.rsrpCandidateB2PCOffset
- McpcPCellProfileUeCfg.rsrpCriticalPCOffset
- McpcPCellProfileUeCfg.rsrpSearchZonePCOffset
- TrStSaCellProfileUeCfg.rsrpPCellCandidatePCOffset

The following PM events are updated to support EBS flexible counters differentiated

based on the UE power class:

- CuCpProcInitialCtxtEstab
- CuCpProcNrHoExeOut
- CuCpProcNrHoIcPrep
- CuCpProcNrHoPrepOut
- CuCpProcNrHoIcExe
- CuCpProcPduSessionResourceModify
- CuCpProcPduSessionResourceSetup

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

This feature enhancement requires the following network elements:

- ENM It is recommended to use ENM version 22.4 or later to support the MOM changes introduced by this feature. If the Release Independence Manager application is used, the MOM changes are supported on earlier ENM versions also.
- UE To fully benefit from the feature, the UE must be a high power-capable UE.

## Appendix A.j: 23.Q4: Discovery of AMFs via DNS

The feature enhancement supports the

automatic discovery of AMF nodes and the automatic setup and removal of NG-C

connections.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

The feature enhancement supports discovery of Access and Mobility Management Function

(AMF) nodes by Naming Authority Pointer Records (NAPTR) DNS lookup procedures. AMF

Fully Qualified Domain Names (FQDN) are resolved from the DNS server by NAPTR DNS

lookup based on 5GS TAI FQDNs.

The feature enhancement has the following benefits:

- Operators manage AMF data resource records in the DNS server instead of manual AMF data configuration in hundreds of gNodeB nodes. The feature improves serviceability and reduces OPEX.
- Operators in shared RAN can use individual DNS in their own signaling network for configuring their respective AMF connections.

Capacity and Performance

No impact.

Operation

AMF domain name lists are resolved by NAPTR DNS queries on 5GS TAI domain names

according to 3GPP TS 29.303. For each AMF domain name, IP addresses are resolved by

A or AAAA DNS queries. Reverse DNS lookup, which is also called PTR query, is

removed by this feature enhancement. The TermPointToAmf MO

instance is created for each resolved AMF domain name in the list and an NG-C

connection is established to the AMF. For existing AMF domain names that are not

resolved from DNS server, the NG-C connection is released and

TermPointToAmf MO instance is removed.

This feature enhancement introduces the LocalDnsEndpoint MO. The

LocalDnsEndpoint.dnsClientRef attribute references the

Router.DnsClient MO of a specific operator. If the

LocalDnsEndpoint.dnsClientRef attribute is not configured,

the DNS client in the O&amp;M router is used by default for all operators.

This feature enhancement introduces the following attributes:

- GNBCUCPFunction.dnsLookupOn5GsTai
- GNBCUCPFunction.dnsLookup5GsTaiPeriodicTimer
- TermPointToAmf.isRemoveAllowed

This feature enhancement introduces the following PM events:

- CuCpProcFqdnDnslookup
- CuCpProcIpAddressDnslookup
- CuCpAmfAutoCreate
- CuCpAmfAutoDelete

Discovery of AMFs via DNS can be started with one of the following methods:

- Manually, from ENM, by MO action updateAmfConnection with one of the following options: RETAIN\_EXISTING RENEW\_ALL
- Automatically, by the system, with one of the following methods: During feature activation During node restart Periodically through the GNBCUCPFunction.dnsLookup5gsTaiPeriodicTimer attribute During a DNS lookup retry if the DNS lookup times out

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

It is required to use ENM version 23.3 or later to support the

MOM changes introduced by this feature enhancement.

Resource records (RRs) for 5GS TAI and AMF domain names are configured in the DNS

server. 5GS TAI and AMF FQDNs are constructed according to 3GPP TS

23.003. DNS servers must support UDP with EDNS0 or TCP transport

protocol.

Related Information

NR Standalone

## Appendix A.k: 24.Q1.0: Contention-Free Random Access for Handover

This feature enhancement enables CFRA for PCell handover procedures in NR

standalone.

| Feature Name           | NR Mobility         |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5041        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

This feature enhancement allows the gNodeB to assign a dedicated random access

preamble for the UE before the RACH procedure. This way, the need for contention

resolution is eliminated and handover interruption time is reduced. This is only

possible if the UE has an RRC connection established with the gNodeB before

performing CFRA.

In an NR standalone deployment, CFRA is possible for the following handover

procedures:

- Intra-gNodeB handover
- NG-based inter-gNodeB handover
- Xn-based inter-gNodeB handover

CFRA is supported at handover to an ESS cell.

Capacity and Performance

This feature enhancement aims to reduce handover interruption time for user plane and

control plane. The impact on the user plane can be monitored on the UE side. The

impact on the control plane can be observed through the following EBS counters:

- pmEbsHoIntTimeCpInterGnbNgCfraDistr
- pmEbsHoIntTimeCpInterGnbXnCfraDistr
- pmEbsHoIntTimeCpIntraGnbCfraDistr
- pmEbsHoIntTimeCpInterGnbNgCbraDistr
- pmEbsHoIntTimeCpInterGnbXnCbraDistr
- pmEbsHoIntTimeCpIntraGnbCbraDistr

With this feature enhancement, the success rate of the CFRA procedures might improve

compared to the success rate of the CBRA procedures in similar RF conditions. Table 27 shows the KPI through which this

impact can be observed.

Table 27   Key Performance Indicators

| KPI                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|--------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Random Access Success Rate Captured in gNodeB for CFRA | The feature enhancement introduces this KPI to monitor the                                         frequency of detecting a PUSCH, which is initially scheduled                                         by an uplink grant in the random access Msg2 message.  If CFRA is enabled in the cell, this KPI might show higher                                         values compared to the Random Access Success Rate Captured                                         in gNodeB KPI in similar radio conditions.                                                                                                                                                                                                                                                                                                                          |
| Random Access Success Rate Captured in gNodeB          | Describes how often a random access Msg3 is detected after a                                         random access Msg2 transmission for CBRA.  This KPI might degrade under the following conditions:  The number of the configured CBRA preambles                                                   remains the same after CFRA is enabled.     The number of the configured CBRA preambles                                                   increases after CFRA is enabled.    The number of the configured CBRA preambles is                                                 reduced after CFRA is enabled and the ratio of this                                                 reduction is less than the ratio of the reduction of                                                 the total number of detected CBRA preambles. |

For more information on the KPIs and associated formulas, see Key Performance Indicators.

Table 28 lists the PIs that can be used to

monitor the impact of the feature enhancement.

Table 28   Performance Indicators

For the RACH procedure, either unrestricted or restricted sets of random access

preambles are set for the UE, depending on, for instance, the estimated frequency

offset. If a restricted set of random access preambles is configured for a cell,

CFRA is not supported for handover. In this case, CBRA is performed in the handover

procedure.

Operation

This feature enhancement introduces the following attributes to support CFRA:

- RachUeCfg.cfraEnabled
- NRCellDU.cfraEnabled
- NRCellDU.totalNoOfRaPreambles
- NRCellDU.noOfCbraPreambles
- NRCellDU.prachConfigIndex

This feature enhancement introduces the following PM counters:

- NRCellDU.pmRadioRaCfPreambles
- NRCellDU.pmRadioRaCfAttMsg2
- NRCellDU.pmRadioRaCfSucc
- NRCellCU.pmRadioRaCfFailMsg1Ooc
- NRCellCU.pmRadioRaCfFailMsg1DiscSched
- NRCellCU.pmRadioRaCfFailMsg2Disc
- NRCellCU.pmRadioRaCfUnassignedFalse
- NRCellCU.pmRadioRaCfPreambleFailedDistr
- NRCellCU.pmRadioRaCfPreambleUnusedDistr
- NRCellCU.pmRadioRaSuccTaRelDistr
- NRCellCU.pmRadioRaSuccTaAbsDistr

This feature enhancement introduces the following EBS counters:

- pmEbsRadioRaCfPreambles
- pmEbsRadioRaCfAttMsg2
- pmEbsRadioRaCfSucc
- pmEbsHoExeSuccInEutran
- pmEbsHoExeAttInEutran
- pmEbsHoPrepSuccInEutran
- pmEbsHoPrepAttInEutran
- pmEbsHoExeSuccIntraCellCfra
- pmEbsHoExeAttIntraCellCfra
- pmEbsHoPrepAttIntraCellFbCbra
- pmEbsHoPrepSuccIntraCellCfra
- pmEbsHoPrepAttIntraCellCfra
- pmEbsHoExeSuccInIntraGnbCfra
- pmEbsHoExeAttInIntraGnbCfra
- pmEbsHoPrepAttInIntraGnbFbCbra
- pmEbsHoPrepSuccInIntraGnbCfra
- pmEbsHoPrepAttInIntraGnbCfra
- pmEbsHoExeSuccInInterGnbCfra
- pmEbsHoExeAttInInterGnbCfra
- pmEbsHoPrepAttInInterGnbFbCbra
- pmEbsHoPrepSuccInInterGnbCfra
- pmEbsHoPrepAttInInterGnbCfra
- pmEbsHoExeSuccInIntraGnb
- pmEbsHoExeAttInIntraGnb
- pmEbsHoPrepSuccInIntraGnb
- pmEbsHoPrepAttInIntraGnb
- pmEbsHoExeSuccInInterGnb
- pmEbsHoExeAttInInterGnb
- pmEbsHoIntTimeCpInterGnbNgCfraDistr
- pmEbsHoIntTimeCpInterGnbXnCfraDistr
- pmEbsHoIntTimeCpIntraGnbCfraDistr
- pmEbsHoIntTimeCpInterGnbNgCbraDistr
- pmEbsHoIntTimeCpInterGnbXnCbraDistr
- pmEbsHoIntTimeCpIntraGnbCbraDistr
- pmEbsHoIntTimeCpDrbInterGnbMax
- pmEbsHoIntTimeCpDrbIntraGnbMax

The following events are associated with the feature enhancement:

- DuPerRadioCellMeasurement
- CuCpProcNrHoExeIn
- CuCpProcNrHoExeOut
- CuCpProcNrHoPrepIn
- CuCpProcNrHoIcPrep
- CuCpProcNrHoIcExe

For more information on the events and EBS counters associated with the feature, see

Lists and Delta Lists.

Hardware

For RAN Compute Group 3, the Baseband Power Savings function must be disabled in

single-mode operation to avoid the negative impact on the performance. For

multi-mode operation, the number of cells and the total antenna bandwidth is reduced

to half.

Interfaces

This feature enhancement affects RRC signaling through the following operations:

- This feature enhancement introduces the following information elements: rsrp-ThresholdSSB under the RACH-ConfigCommon information element RACH-ConfigDedicated
- This feature enhancement modifies the following information elements: ssb-perRACH-OccasionAndCB-PreamblesPerSSB prach-ConfigurationIndex

Other Network Elements

It is recommended to use ENM version 24.1 or later to support the

MOM changes introduced by this feature enhancement. If the Release Independence

Manager application is used, the MOM changes are supported on earlier ENM versions

also.

This feature enhancement requires the UE to support reserved MCS values for PUSCH

retransmission with initial PUSCH scheduled by RAR UL grant, which is described in

3GPP TS 38.214 version 16.14.0.

Related Information

NR Mobility

NR Standalone

Manage Hardware Equipment

## Appendix A.l: 24.Q3.0: UE-Specific DRX for NR Standalone and NR Standalone High-Band for Fixed Wireless Access

This feature enhancement allows UEs to request a DRX cycle that is suitable for the

supported software applications and services.

| Feature Name           | NR Standalone       | NR Standalone High-Band for Fixed Wireless Access   |
|------------------------|---------------------|-----------------------------------------------------|
| Feature Identity       | FAJ 121 5060        | FAJ 121 5592                                        |
| Value Package Name     | NR Base Package     | Standalone High-Band Deployment                     |
| Value Package Identity | FAJ 801 4002        | FAJ 801 4024                                        |
| Node Type              | Baseband Radio Node | Baseband Radio Node                                 |
| Access Type            | NR                  | NR                                                  |
| Impact at Upgrade      | Mandatory           | Mandatory                                           |

Summary and Benefits

This feature enhancement allows an idle mode DRX cycle to be negotiated between the

UE and the Access and Mobility Management Function (AMF) during the

Non-Access-Stratum (NAS) Registration procedure. This DRX cycle can be used to page

the UE up to the maximum of the default value set in the

Paging.defaultPagingCycle attribute.

This feature enhancement enables the UE to select a DRX cycle for improved downlink

latency at the cost of higher UE battery consumption.

Lower core network paging latency is expected because UEs can request DRX cycles

suitable for the supported software applications and services.

Capacity and Performance

This feature enhancement introduces the following PM counters to improve DRX

observability:

- NRCellDU.pmPagDiscardedRan
- NRCellDU.pmPagReceivedRan

Operation

This feature enhancement introduces the NRCellDU.ueSpecificDrxMode

attribute, which is enabled by default. Therefore, UE-specific DRX is enabled for

the newly created and for the existing NRCellDU MO instances.

This feature enhancement can be disabled by setting the

NRCellDU.ueSpecificDrxMode attribute to

DISABLED.

Interfaces

This feature enhancement affects the NG-C interface by adding the

Paging-DRX IE to the NGAP PAGING message.

Hardware

No specific hardware requirements.

Other Network Elements

It is recommended to use ENM version 24.3 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

The AMF must support UE-specific DRX and the UE must request a DRX cycle in the NAS

Registration Request message.

Related Information

NR Standalone

NR Standalone for Fixed Wireless Access

## Appendix A.m: 25.Q1.0: UE Context Supervision

This feature enhancement provides measurements related to cell coverage, alternative

PCell candidates, and radio connection for UEs that are connected without PDU Session configuration in NR standalone.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

This feature enhancement provides measurements for UEs that are connected to the

network without PDU Session establishment to detect the following

cases:

- Poor cell coverage
- Alternative PCell candidates
- Lost connection

This prevents resources being retained in the cell because of the UE context

being held for an extended time.

This feature enhancement provides the following measurements:

| Critical PCell coverage measurement   |    | This optional measurement uses A2 measurement to detect when the UE moves                                 into critical coverage in the PCell.                                                                     |
|---------------------------------------|----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                       |    |                                                                                                                                                                                                                    |
| Better PCell candidate measurement    |    | This optional measurement uses A3 measurement to detect when the signal of                                 a neighbor NR cell is offset better than the one of the serving                                 cell.   |
|                                       |    |                                                                                                                                                                                                                    |
| Periodic PCell RSRP measurement       |    | This measurement continuously monitors the UE to detect lost radio                                 connection by tracking when a periodic PCell RSRP measurement report                                 is missed. |

Capacity and Performance

No impact.

Operation

This feature enhancement introduces the following attributes to support the critical

PCell coverage and better PCell candidate measurements for each UE group:

- UeNoDrbPCellProfileUeCfg.rsrpBetterPCellEnabled
- UeNoDrbPCellProfileUeCfg.rsrpBetterPCell
- UeNoDrbPCellProfileUeCfg.rsrpCriticalEnabled
- UeNoDrbPCellProfileUeCfg.rsrpCritical
- UeNoDrbPCellProfileUeCfg.rsrpCriticalPcOffset
- UeNoDrbPCellProfileUeCfg.rsrqCriticalEnabled
- UeNoDrbPCellProfileUeCfg.rsrqCritical
- UeNoDrbPCellProfileUeCfg.sinrCriticalEnabled
- UeNoDrbPCellProfileUeCfg.sinrCritical

The periodic PCell RSRP measurement continuously monitors the UE radio connection and

is not configurable.

The following PM events are modified with event parameters to support the measurements

related to poor cell coverage:

- CuCpProcUeCtxtRel
- DuProcUeContextModification

For more information on the events associated with the feature enhancement, see Lists and Delta Lists.

Interfaces

This feature enhancement affects the Uu interface by including information on the

following measurements in the RRC Reconfiguration message:

- Critical PCell coverage measurement
- Better PCell candidate measurement
- Periodic PCell RSRP measurement

Hardware

The feature enhancement is supported on RAN Compute units in the following RAN

Compute groups:

- RAN Compute group 4
- RAN Compute group 5a, 5b, 5c, 5d
- RAN Compute group 6

Other Network Elements

It is recommended to use ENM version 25.2 or later to support the

MOM changes introduced by this feature. If the Release Independence Manager

application is used, the MOM changes are supported on earlier ENM versions also.

Related Information

NR Standalone

## Appendix A.n: 25.Q2.0: Power Class 2 High Power UE Support for Low-Band in NR Standalone

The feature enhancement supports the use of power class 2 high power UEs with a

maximum of 26 dBm uplink transmission power in NR Standalone.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NRâ¯Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

By supporting high power UEs capable of power class 2 on FR1 FDD bands, the feature

enhancement increases uplink coverage and uplink edge throughput. This way,

significant network deployment savings can be achieved.

The PCell NR band must support the high power UE for the feature enhancement to be

operable.

Capacity and Performance

This feature enhancement increases the uplink coverage and the uplink edge throughput

by supporting power class 2 UEs.

The Average UL MAC UE Throughput KPI can be used to observe the benefits of the

feature enhancement.

The following common NR KPIs are increased:

- Average DL MAC DRB Throughput
- Average UL MAC UE Throughput
- DL MAC DRB Throughput per QoS
- Random Access Success Rate Captured in gNodeB
- UE Context Setup Success Rate

The following NR standalone KPIs are increased:

- DRB Accessibility
- DRB Retainability
- NR Handover success rate captured in source gNodeB

The following PM counters are affected:

- NRCellDU.pmMacVolUlResUe
- NRCellDU.pmMacVolDlDrb
- NRCellDU.pmRadioRecInterferencePowerDistr

Operation

To benefit from this feature enhancement, one of the following requirements must be

fulfilled on the gNodeB:

- The NRCellDU.pMax attribute is set to a value higher than 23.
- The NRCellDU.pMax attribute is empty or it is set to 1000. Note: If the NRCellDU.pMax attribute is empty or it is set to 1000, the maximum uplink power of the UE is limited by UE capabilities.

Interfaces

No impact.

Hardware

The feature enhancement is supported for RAN Compute units in RAN Compute groups 4

and higher, except for RAN Compute group 5e.

Other Network Elements

This feature enhancement requires ENM version 22.2 or later.

Related Information

NR Standalone

## Appendix A.o: 25.Q2.0: Robust UE Capability Enquiry

This feature enhancement

enables

to configure the Robust Capability Enquiry function on the

cell

level.

| Feature Name           | NR Standalone       |
|------------------------|---------------------|
| Feature Identity       | FAJ 121 5060        |
| Value Package Name     | NR Base Package     |
| Value Package Identity | FAJ 801 4002        |
| Node Type              | Baseband Radio Node |
| Access Type            | NR                  |
| Impact at Upgrade      | Optional            |

Summary and Benefits

This feature enhancement enables the Robust Capability Enquiry function by default

for the

INITIAL

CONTEXT SETUP REQUEST

NGAP

process. This function can be operated manually

by splitting the UE Capability Enquiry message on the

cell

level.

The benefit of this feature enhancement is that the failure rate of the UE

Capability Enquiry message improves.

Capacity and Performance

No impact.

Operation

This feature enhancement introduces the

NRCellCU.robustUeCapEnquiryMode

attribute to control the Robust Capability Enquiry function. This attribute can be

configured on the

cell

level.

Interfaces

No impact.

Hardware

No specific hardware requirements.

Other Network Elements

Without the Release Independence Manager application, this feature enhancement

requires ENM version 25.2 or later. The Release

Independence Manager application also supports the feature enhancement on earlier

supported ENM versions.

Related Information

NR Standalone